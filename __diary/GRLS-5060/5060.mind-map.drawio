<mxfile host="app.diagrams.net" modified="2022-11-24T10:45:19.512Z" agent="5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/107.0.0.0 Safari/537.36" etag="FbKZeWNyrlwuITSHuoDS" version="20.5.3" type="github">
  <diagram id="qM3AAim5_I2P72xAHU8p" name="Страница 1">
    <mxGraphModel dx="2640" dy="4148" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="Qs5j7JCSP7ARArpuH591-3" value="" style="endArrow=open;endFill=1;endSize=12;html=1;rounded=0;fontSize=16;curved=1;entryX=0.75;entryY=1;entryDx=0;entryDy=0;" edge="1" parent="1" source="UocfNX80_2cdvI--xIj--304" target="UocfNX80_2cdvI--xIj--373">
          <mxGeometry width="160" relative="1" as="geometry">
            <mxPoint x="978.0769230769238" y="-2540" as="sourcePoint" />
            <mxPoint x="1165" y="-2450" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="UocfNX80_2cdvI--xIj--362" value="" style="endArrow=none;dashed=1;html=1;dashPattern=1 3;strokeWidth=2;rounded=0;fontSize=16;curved=1;" parent="1" source="UocfNX80_2cdvI--xIj--352" target="UocfNX80_2cdvI--xIj--339" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-318.71794871794873" y="-2290" as="sourcePoint" />
            <mxPoint x="228.71794871794873" y="-2990" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="UocfNX80_2cdvI--xIj--361" value="" style="endArrow=none;dashed=1;html=1;dashPattern=1 3;strokeWidth=2;rounded=0;fontSize=16;curved=1;" parent="1" source="UocfNX80_2cdvI--xIj--351" target="UocfNX80_2cdvI--xIj--338" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-325.16908212560384" y="-2493" as="sourcePoint" />
            <mxPoint x="-309.83091787439616" y="-2620" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="UocfNX80_2cdvI--xIj--90" value="" style="endArrow=none;dashed=1;html=1;dashPattern=1 3;strokeWidth=2;rounded=0;curved=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;exitX=0.75;exitY=0;exitDx=0;exitDy=0;" parent="1" source="UocfNX80_2cdvI--xIj--88" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-103.07692307692332" y="410" as="sourcePoint" />
            <mxPoint x="940" y="-10" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="UocfNX80_2cdvI--xIj--91" value="" style="endArrow=none;dashed=1;html=1;dashPattern=1 3;strokeWidth=2;rounded=0;curved=1;exitX=0.25;exitY=0;exitDx=0;exitDy=0;" parent="1" source="UocfNX80_2cdvI--xIj--88" target="UocfNX80_2cdvI--xIj--20" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="585" y="675" as="sourcePoint" />
            <mxPoint x="950" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="UocfNX80_2cdvI--xIj--92" value="" style="endArrow=none;dashed=1;html=1;dashPattern=1 3;strokeWidth=2;rounded=0;curved=1;exitX=0.5;exitY=0;exitDx=0;exitDy=0;" parent="1" source="UocfNX80_2cdvI--xIj--88" target="UocfNX80_2cdvI--xIj--81" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="455" y="675" as="sourcePoint" />
            <mxPoint x="-203.33333333333348" y="280" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="UocfNX80_2cdvI--xIj--61" value="" style="endArrow=none;dashed=1;html=1;dashPattern=1 3;strokeWidth=2;rounded=0;curved=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="UocfNX80_2cdvI--xIj--59" target="UocfNX80_2cdvI--xIj--4" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="110" y="310" as="sourcePoint" />
            <mxPoint x="160" y="260" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="UocfNX80_2cdvI--xIj--1" value="Заменить сохранение состояний на LongBase" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f8cecc;strokeColor=#b85450;" parent="1" vertex="1">
          <mxGeometry x="360" y="360" width="160" height="40" as="geometry" />
        </mxCell>
        <mxCell id="UocfNX80_2cdvI--xIj--3" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;curved=1;" parent="1" source="UocfNX80_2cdvI--xIj--2" target="UocfNX80_2cdvI--xIj--1" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="UocfNX80_2cdvI--xIj--2" value="Как сохраняются состояния на данный момент для Состояний GRLS?" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;" parent="1" vertex="1">
          <mxGeometry x="560" y="240" width="190" height="50" as="geometry" />
        </mxCell>
        <mxCell id="UocfNX80_2cdvI--xIj--5" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.75;entryY=0;entryDx=0;entryDy=0;exitX=0;exitY=0.75;exitDx=0;exitDy=0;" parent="1" source="UocfNX80_2cdvI--xIj--4" target="UocfNX80_2cdvI--xIj--8" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="UocfNX80_2cdvI--xIj--4" value="&lt;b&gt;&amp;lt;&amp;lt; транзакция &amp;gt;&amp;gt;&lt;/b&gt;&lt;br&gt;с помощью транзакции&lt;br&gt;&lt;b&gt;ChangeDocumentInternalState&lt;/b&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" parent="1" vertex="1">
          <mxGeometry x="930" y="-50" width="210" height="60" as="geometry" />
        </mxCell>
        <mxCell id="UocfNX80_2cdvI--xIj--7" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=1;entryY=0;entryDx=0;entryDy=0;" parent="1" source="UocfNX80_2cdvI--xIj--6" target="UocfNX80_2cdvI--xIj--2" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="UocfNX80_2cdvI--xIj--6" value="ExternalState ?" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;" parent="1" vertex="1">
          <mxGeometry x="775" y="190" width="120" height="20" as="geometry" />
        </mxCell>
        <mxCell id="UocfNX80_2cdvI--xIj--9" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.75;exitDx=0;exitDy=0;" parent="1" source="UocfNX80_2cdvI--xIj--8" target="UocfNX80_2cdvI--xIj--2" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="UocfNX80_2cdvI--xIj--8" value="InternalState" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;" parent="1" vertex="1">
          <mxGeometry x="690" y="100" width="130" height="20" as="geometry" />
        </mxCell>
        <mxCell id="UocfNX80_2cdvI--xIj--11" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.75;entryY=0;entryDx=0;entryDy=0;" parent="1" source="UocfNX80_2cdvI--xIj--10" target="UocfNX80_2cdvI--xIj--4" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="UocfNX80_2cdvI--xIj--10" value="ChangeDocumentInternalState сохраняет состояния для документов GRLS&lt;br&gt;- Resolutions&lt;br&gt;- Tasks" style="rounded=1;whiteSpace=wrap;html=1;strokeColor=#6c8ebf;fillColor=#dae8fc;" parent="1" vertex="1">
          <mxGeometry x="1080" y="-230" width="250" height="60" as="geometry" />
        </mxCell>
        <mxCell id="UocfNX80_2cdvI--xIj--13" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="UocfNX80_2cdvI--xIj--12" target="UocfNX80_2cdvI--xIj--4" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="UocfNX80_2cdvI--xIj--12" value="&lt;b&gt;&amp;lt;&amp;lt; транзакция &amp;gt;&amp;gt;&lt;br&gt;&lt;/b&gt;Есть еще ChangeApplicantRequestInternalState" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffe6cc;strokeColor=#d79b00;" parent="1" vertex="1">
          <mxGeometry x="1220" y="-50" width="230" height="60" as="geometry" />
        </mxCell>
        <mxCell id="UocfNX80_2cdvI--xIj--15" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.25;entryY=0;entryDx=0;entryDy=0;" parent="1" source="UocfNX80_2cdvI--xIj--14" target="UocfNX80_2cdvI--xIj--1" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="UocfNX80_2cdvI--xIj--14" value="Как сохраняются состояния для LongBase" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;" parent="1" vertex="1">
          <mxGeometry x="150" y="230" width="190" height="50" as="geometry" />
        </mxCell>
        <mxCell id="UocfNX80_2cdvI--xIj--18" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.25;entryY=0;entryDx=0;entryDy=0;" parent="1" source="UocfNX80_2cdvI--xIj--16" target="UocfNX80_2cdvI--xIj--14" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="UocfNX80_2cdvI--xIj--16" value="InternalState ?" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;" parent="1" vertex="1">
          <mxGeometry x="-100" y="160" width="120" height="20" as="geometry" />
        </mxCell>
        <mxCell id="UocfNX80_2cdvI--xIj--19" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="UocfNX80_2cdvI--xIj--17" target="UocfNX80_2cdvI--xIj--14" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="UocfNX80_2cdvI--xIj--17" value="ExternalState ?" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;" parent="1" vertex="1">
          <mxGeometry x="-10" y="50" width="100" height="20" as="geometry" />
        </mxCell>
        <mxCell id="UocfNX80_2cdvI--xIj--21" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="UocfNX80_2cdvI--xIj--20" target="UocfNX80_2cdvI--xIj--16" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="UocfNX80_2cdvI--xIj--20" value="&amp;lt;&amp;lt; транзакция &amp;gt;&amp;gt;&lt;br&gt;&lt;b&gt;ChangeLongDocumentInternalState&lt;/b&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" parent="1" vertex="1">
          <mxGeometry x="-360" y="220" width="210" height="50" as="geometry" />
        </mxCell>
        <mxCell id="UocfNX80_2cdvI--xIj--24" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.25;entryY=1;entryDx=0;entryDy=0;" parent="1" source="UocfNX80_2cdvI--xIj--23" target="UocfNX80_2cdvI--xIj--20" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="UocfNX80_2cdvI--xIj--23" value="Используется для сохранения всех документов ЕЭК и БМКП" style="rounded=1;whiteSpace=wrap;html=1;strokeColor=#6c8ebf;fillColor=#dae8fc;" parent="1" vertex="1">
          <mxGeometry x="-533" y="310" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="UocfNX80_2cdvI--xIj--26" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.75;entryY=1;entryDx=0;entryDy=0;" parent="1" source="UocfNX80_2cdvI--xIj--25" target="UocfNX80_2cdvI--xIj--23" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="UocfNX80_2cdvI--xIj--25" value="А так ли это?" style="rounded=1;whiteSpace=wrap;html=1;strokeColor=#9673a6;fillColor=#e1d5e7;" parent="1" vertex="1">
          <mxGeometry x="-610" y="460" width="100" height="30" as="geometry" />
        </mxCell>
        <mxCell id="UocfNX80_2cdvI--xIj--28" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.75;entryY=0;entryDx=0;entryDy=0;" parent="1" source="UocfNX80_2cdvI--xIj--27" target="UocfNX80_2cdvI--xIj--12" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="UocfNX80_2cdvI--xIj--27" value="&lt;b&gt;&amp;lt;&amp;lt; метод &amp;gt;&amp;gt;&lt;br&gt;&lt;/b&gt;ValidateDossier()&lt;br&gt;Проверяет досье, если nextState ==&amp;nbsp;handled_applicant (Обработан заявителем)" style="rounded=1;whiteSpace=wrap;html=1;strokeColor=#6c8ebf;fillColor=#dae8fc;" parent="1" vertex="1">
          <mxGeometry x="1530" y="-130" width="280" height="60" as="geometry" />
        </mxCell>
        <mxCell id="UocfNX80_2cdvI--xIj--30" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="UocfNX80_2cdvI--xIj--29" target="UocfNX80_2cdvI--xIj--12" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="UocfNX80_2cdvI--xIj--29" value="Проверяет досье, если nextState ==&amp;nbsp;handled_applicant (Обработан заявителем)" style="rounded=1;whiteSpace=wrap;html=1;strokeColor=#6c8ebf;fillColor=#dae8fc;" parent="1" vertex="1">
          <mxGeometry x="1550" y="-40" width="250" height="60" as="geometry" />
        </mxCell>
        <mxCell id="UocfNX80_2cdvI--xIj--34" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="UocfNX80_2cdvI--xIj--33" target="UocfNX80_2cdvI--xIj--27" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="UocfNX80_2cdvI--xIj--33" value="Использует HistoryRepository" style="rounded=1;whiteSpace=wrap;html=1;strokeColor=#d79b00;fillColor=#ffe6cc;" parent="1" vertex="1">
          <mxGeometry x="1810" y="-230" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="UocfNX80_2cdvI--xIj--36" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;" parent="1" source="UocfNX80_2cdvI--xIj--35" target="UocfNX80_2cdvI--xIj--33" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="UocfNX80_2cdvI--xIj--35" value="Содержит внешние состояния?" style="rounded=1;whiteSpace=wrap;html=1;strokeColor=#9673a6;fillColor=#e1d5e7;" parent="1" vertex="1">
          <mxGeometry x="1910" y="-330" width="120" height="40" as="geometry" />
        </mxCell>
        <mxCell id="UocfNX80_2cdvI--xIj--38" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="UocfNX80_2cdvI--xIj--37" target="UocfNX80_2cdvI--xIj--33" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="UocfNX80_2cdvI--xIj--37" value="Как ведется запись в HistoryRepository?" style="rounded=1;whiteSpace=wrap;html=1;strokeColor=#9673a6;fillColor=#e1d5e7;" parent="1" vertex="1">
          <mxGeometry x="2022.5" y="-260" width="137.5" height="50" as="geometry" />
        </mxCell>
        <mxCell id="UocfNX80_2cdvI--xIj--40" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.75;exitDx=0;exitDy=0;" parent="1" source="UocfNX80_2cdvI--xIj--39" target="UocfNX80_2cdvI--xIj--4" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="UocfNX80_2cdvI--xIj--39" value="Где вызывается?" style="rounded=1;whiteSpace=wrap;html=1;strokeColor=#9673a6;fillColor=#e1d5e7;textOpacity=50;opacity=50;" parent="1" vertex="1">
          <mxGeometry x="1110" y="-285" width="120" height="35" as="geometry" />
        </mxCell>
        <mxCell id="UocfNX80_2cdvI--xIj--42" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=1;entryY=0;entryDx=0;entryDy=0;" parent="1" source="UocfNX80_2cdvI--xIj--41" target="UocfNX80_2cdvI--xIj--17" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="UocfNX80_2cdvI--xIj--41" value="&amp;lt;&amp;lt; таблица &amp;gt;&amp;gt;&lt;br&gt;ExternalState сохраняется в таблицу&amp;nbsp;&lt;br&gt;&lt;span style=&quot;color: rgb(51, 51, 51); font-family: Arial, sans-serif; font-size: 14px; text-align: start; background-color: rgb(255, 255, 255);&quot; class=&quot;error&quot;&gt;[grls]&lt;/span&gt;&lt;span style=&quot;color: rgb(51, 51, 51); font-family: Arial, sans-serif; font-size: 14px; text-align: start; background-color: rgb(255, 255, 255);&quot;&gt;.&lt;/span&gt;&lt;span style=&quot;color: rgb(51, 51, 51); font-family: Arial, sans-serif; font-size: 14px; text-align: start; background-color: rgb(255, 255, 255);&quot; class=&quot;error&quot;&gt;[core]&lt;/span&gt;&lt;span style=&quot;color: rgb(51, 51, 51); font-family: Arial, sans-serif; font-size: 14px; text-align: start; background-color: rgb(255, 255, 255);&quot;&gt;.&lt;/span&gt;&lt;span style=&quot;color: rgb(51, 51, 51); font-family: Arial, sans-serif; font-size: 14px; text-align: start; background-color: rgb(255, 255, 255);&quot; class=&quot;error&quot;&gt;[DocumentOuterState]&lt;/span&gt;" style="rounded=1;whiteSpace=wrap;html=1;strokeColor=#6c8ebf;fillColor=#dae8fc;" parent="1" vertex="1">
          <mxGeometry x="170" y="-130" width="220" height="60" as="geometry" />
        </mxCell>
        <mxCell id="UocfNX80_2cdvI--xIj--44" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.25;entryY=0;entryDx=0;entryDy=0;" parent="1" source="UocfNX80_2cdvI--xIj--43" target="UocfNX80_2cdvI--xIj--16" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="UocfNX80_2cdvI--xIj--43" value="&amp;lt;&amp;lt; таблица &amp;gt;&amp;gt;&lt;br&gt;ExternalState сохраняется в таблицу&amp;nbsp;&lt;br&gt;&lt;span style=&quot;color: rgb(51, 51, 51); font-family: Arial, sans-serif; font-size: 14px; text-align: start; background-color: rgb(255, 255, 255);&quot; class=&quot;error&quot;&gt;[grls]&lt;/span&gt;&lt;span style=&quot;color: rgb(51, 51, 51); font-family: Arial, sans-serif; font-size: 14px; text-align: start; background-color: rgb(255, 255, 255);&quot;&gt;.&lt;/span&gt;&lt;span style=&quot;color: rgb(51, 51, 51); font-family: Arial, sans-serif; font-size: 14px; text-align: start; background-color: rgb(255, 255, 255);&quot; class=&quot;error&quot;&gt;[core]&lt;/span&gt;&lt;span style=&quot;color: rgb(51, 51, 51); font-family: Arial, sans-serif; font-size: 14px; text-align: start; background-color: rgb(255, 255, 255);&quot;&gt;.&lt;/span&gt;&lt;span style=&quot;color: rgb(51, 51, 51); font-family: Arial, sans-serif; font-size: 14px; text-align: start; background-color: rgb(255, 255, 255);&quot; class=&quot;error&quot;&gt;[DocumentInnerState]&lt;/span&gt;" style="rounded=1;whiteSpace=wrap;html=1;strokeColor=#6c8ebf;fillColor=#dae8fc;" parent="1" vertex="1">
          <mxGeometry x="-420" y="80" width="220" height="60" as="geometry" />
        </mxCell>
        <mxCell id="UocfNX80_2cdvI--xIj--46" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="UocfNX80_2cdvI--xIj--45" target="UocfNX80_2cdvI--xIj--8" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="UocfNX80_2cdvI--xIj--45" value="&amp;lt;&amp;lt; таблица &amp;gt;&amp;gt;&lt;br&gt;Сохраняется в таблицу&lt;br&gt;DocumentToInternalStateBinding" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" parent="1" vertex="1">
          <mxGeometry x="700" y="-140" width="210" height="60" as="geometry" />
        </mxCell>
        <mxCell id="UocfNX80_2cdvI--xIj--48" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="UocfNX80_2cdvI--xIj--47" target="UocfNX80_2cdvI--xIj--45" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="UocfNX80_2cdvI--xIj--47" value="от чего необходимо избавиться" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f8cecc;strokeColor=#b85450;" parent="1" vertex="1">
          <mxGeometry x="730" y="-240" width="210" height="30" as="geometry" />
        </mxCell>
        <mxCell id="UocfNX80_2cdvI--xIj--50" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=1;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="UocfNX80_2cdvI--xIj--49" target="UocfNX80_2cdvI--xIj--6" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="UocfNX80_2cdvI--xIj--49" value="В какую таблицу сохраняется?" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;" parent="1" vertex="1">
          <mxGeometry x="970" y="225" width="210" height="30" as="geometry" />
        </mxCell>
        <mxCell id="UocfNX80_2cdvI--xIj--52" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.75;entryY=1;entryDx=0;entryDy=0;exitX=0;exitY=0.75;exitDx=0;exitDy=0;" parent="1" source="UocfNX80_2cdvI--xIj--51" target="UocfNX80_2cdvI--xIj--12" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="UocfNX80_2cdvI--xIj--51" value="Где вызывается?" style="rounded=1;whiteSpace=wrap;html=1;strokeColor=#9673a6;fillColor=#e1d5e7;opacity=50;textOpacity=50;" parent="1" vertex="1">
          <mxGeometry x="1470" y="130" width="130" height="40" as="geometry" />
        </mxCell>
        <mxCell id="UocfNX80_2cdvI--xIj--54" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.75;exitDx=0;exitDy=0;entryX=0.25;entryY=0;entryDx=0;entryDy=0;" parent="1" source="UocfNX80_2cdvI--xIj--53" target="UocfNX80_2cdvI--xIj--17" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="UocfNX80_2cdvI--xIj--53" value="Используется ли HistoryRepository как GRLS?" style="rounded=1;whiteSpace=wrap;html=1;strokeColor=#9673a6;fillColor=#e1d5e7;" parent="1" vertex="1">
          <mxGeometry x="-130" y="-60" width="120" height="50" as="geometry" />
        </mxCell>
        <mxCell id="UocfNX80_2cdvI--xIj--58" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="UocfNX80_2cdvI--xIj--55" target="UocfNX80_2cdvI--xIj--1" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="UocfNX80_2cdvI--xIj--55" value="Что такое Observer у транзакции?" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;textOpacity=60;opacity=60;" parent="1" vertex="1">
          <mxGeometry x="110" y="390" width="140" height="40" as="geometry" />
        </mxCell>
        <mxCell id="UocfNX80_2cdvI--xIj--57" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.25;entryY=1;entryDx=0;entryDy=0;exitX=1;exitY=0.25;exitDx=0;exitDy=0;" parent="1" source="UocfNX80_2cdvI--xIj--56" target="UocfNX80_2cdvI--xIj--55" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="UocfNX80_2cdvI--xIj--56" value="Что такое Triggers?" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;" parent="1" vertex="1">
          <mxGeometry x="-80" y="512.5" width="120" height="20" as="geometry" />
        </mxCell>
        <mxCell id="UocfNX80_2cdvI--xIj--60" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="UocfNX80_2cdvI--xIj--59" target="UocfNX80_2cdvI--xIj--20" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="UocfNX80_2cdvI--xIj--59" value="Почему Observer&lt;br&gt;ChageLongDocumentInternalStateObserver вызывает ChangeDocumentInternalState? Для Grls.ApplicantRequests" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;" parent="1" vertex="1">
          <mxGeometry x="-330" y="400" width="260" height="70" as="geometry" />
        </mxCell>
        <mxCell id="UocfNX80_2cdvI--xIj--63" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.75;entryDx=0;entryDy=0;" parent="1" source="UocfNX80_2cdvI--xIj--62" target="UocfNX80_2cdvI--xIj--59" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="UocfNX80_2cdvI--xIj--62" value="Изменение состояния сохраняется в двух местах для GRLS документов?&lt;br&gt;-&amp;nbsp;&lt;span style=&quot;color: rgb(51, 51, 51); font-family: Arial, sans-serif; font-size: 14px; text-align: start; background-color: rgb(255, 255, 255);&quot;&gt;DocumentInnerState&lt;br&gt;-&lt;/span&gt;DocumentToInternalStateBinding&lt;span style=&quot;color: rgb(51, 51, 51); font-family: Arial, sans-serif; font-size: 14px; text-align: start; background-color: rgb(255, 255, 255);&quot;&gt;&lt;br&gt;&lt;/span&gt;" style="rounded=1;whiteSpace=wrap;html=1;strokeColor=#d79b00;fillColor=#ffe6cc;" parent="1" vertex="1">
          <mxGeometry x="-520" y="555" width="220" height="60" as="geometry" />
        </mxCell>
        <mxCell id="UocfNX80_2cdvI--xIj--65" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=1;entryY=1;entryDx=0;entryDy=0;" parent="1" source="UocfNX80_2cdvI--xIj--64" target="UocfNX80_2cdvI--xIj--55" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="UocfNX80_2cdvI--xIj--64" value="Когда вызывается Observer?&lt;br&gt;После выполнения транзакции?" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;opacity=60;textOpacity=60;" parent="1" vertex="1">
          <mxGeometry x="224" y="505" width="190" height="35" as="geometry" />
        </mxCell>
        <mxCell id="UocfNX80_2cdvI--xIj--69" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="UocfNX80_2cdvI--xIj--68" target="UocfNX80_2cdvI--xIj--12" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="UocfNX80_2cdvI--xIj--68" value="Является подклассом ChangeDocumentInternalState и вызывает сперва метод Validate() базового класса" style="rounded=1;whiteSpace=wrap;html=1;strokeColor=#6c8ebf;fillColor=#dae8fc;" parent="1" vertex="1">
          <mxGeometry x="1520" y="-280" width="250" height="60" as="geometry" />
        </mxCell>
        <mxCell id="UocfNX80_2cdvI--xIj--72" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=1;entryDx=0;entryDy=0;exitX=0;exitY=0.5;exitDx=0;exitDy=0;" parent="1" source="UocfNX80_2cdvI--xIj--71" target="UocfNX80_2cdvI--xIj--175" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="UocfNX80_2cdvI--xIj--71" value="&lt;b&gt;&amp;lt;&amp;lt; транзакция &amp;gt;&amp;gt;&lt;/b&gt;&lt;br&gt;Есть транзакция&amp;nbsp;&lt;br&gt;ChangeDocumentState" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" parent="1" vertex="1">
          <mxGeometry x="980" y="320" width="210" height="60" as="geometry" />
        </mxCell>
        <mxCell id="UocfNX80_2cdvI--xIj--74" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=1;entryY=0.25;entryDx=0;entryDy=0;" parent="1" source="UocfNX80_2cdvI--xIj--73" target="UocfNX80_2cdvI--xIj--71" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="UocfNX80_2cdvI--xIj--73" value="Где вызывается?" style="rounded=1;whiteSpace=wrap;html=1;strokeColor=#9673a6;fillColor=#e1d5e7;" parent="1" vertex="1">
          <mxGeometry x="1254.5" y="390" width="120" height="35" as="geometry" />
        </mxCell>
        <mxCell id="UocfNX80_2cdvI--xIj--76" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.75;exitDx=0;exitDy=0;" parent="1" source="UocfNX80_2cdvI--xIj--75" target="UocfNX80_2cdvI--xIj--17" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="UocfNX80_2cdvI--xIj--75" value="Как хранит историю изменений?" style="rounded=1;whiteSpace=wrap;html=1;strokeColor=#9673a6;fillColor=#e1d5e7;" parent="1" vertex="1">
          <mxGeometry x="-150" y="-140" width="120" height="40" as="geometry" />
        </mxCell>
        <mxCell id="UocfNX80_2cdvI--xIj--78" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="UocfNX80_2cdvI--xIj--77" target="UocfNX80_2cdvI--xIj--20" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="UocfNX80_2cdvI--xIj--77" value="Где и как вызывается?" style="rounded=1;whiteSpace=wrap;html=1;strokeColor=#9673a6;fillColor=#e1d5e7;" parent="1" vertex="1">
          <mxGeometry x="-660" y="190" width="100" height="30" as="geometry" />
        </mxCell>
        <mxCell id="UocfNX80_2cdvI--xIj--80" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="UocfNX80_2cdvI--xIj--79" target="UocfNX80_2cdvI--xIj--81" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="UocfNX80_2cdvI--xIj--79" value="Где и как вызывается?" style="rounded=1;whiteSpace=wrap;html=1;strokeColor=#9673a6;fillColor=#e1d5e7;" parent="1" vertex="1">
          <mxGeometry x="290" y="-290" width="100" height="30" as="geometry" />
        </mxCell>
        <mxCell id="UocfNX80_2cdvI--xIj--83" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.75;entryY=0;entryDx=0;entryDy=0;" parent="1" source="UocfNX80_2cdvI--xIj--81" target="UocfNX80_2cdvI--xIj--17" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="UocfNX80_2cdvI--xIj--81" value="&amp;lt;&amp;lt; транзакция &amp;gt;&amp;gt;&lt;br&gt;Есть транзакция &lt;b&gt;ChangeLongDocumentExternalState&lt;/b&gt;" style="rounded=1;whiteSpace=wrap;html=1;strokeColor=#6c8ebf;fillColor=#dae8fc;" parent="1" vertex="1">
          <mxGeometry y="-220" width="220" height="50" as="geometry" />
        </mxCell>
        <mxCell id="UocfNX80_2cdvI--xIj--85" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=1;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="UocfNX80_2cdvI--xIj--84" target="UocfNX80_2cdvI--xIj--1" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="UocfNX80_2cdvI--xIj--84" value="Есть админка, в которой настраиваются переходы состояний" style="rounded=1;whiteSpace=wrap;html=1;strokeColor=#d79b00;fillColor=#ffe6cc;" parent="1" vertex="1">
          <mxGeometry x="617" y="490" width="210" height="50" as="geometry" />
        </mxCell>
        <mxCell id="UocfNX80_2cdvI--xIj--87" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="UocfNX80_2cdvI--xIj--86" target="UocfNX80_2cdvI--xIj--84" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="UocfNX80_2cdvI--xIj--86" value="Как сохраняются переходы состояний?" style="rounded=1;whiteSpace=wrap;html=1;strokeColor=#9673a6;fillColor=#e1d5e7;" parent="1" vertex="1">
          <mxGeometry x="870" y="585" width="130" height="35" as="geometry" />
        </mxCell>
        <mxCell id="UocfNX80_2cdvI--xIj--89" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.25;entryY=1;entryDx=0;entryDy=0;" parent="1" source="UocfNX80_2cdvI--xIj--88" target="UocfNX80_2cdvI--xIj--84" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="UocfNX80_2cdvI--xIj--88" value="&amp;lt;&amp;lt; транзакция &amp;gt;&amp;gt;&lt;br&gt;Есть транзакция&amp;nbsp;&lt;br&gt;&lt;b&gt;GetAvailableTransactions &lt;/b&gt;вызывается транзакциями&amp;nbsp;&lt;br&gt;- ChangeLongDocumentInternalState&lt;br&gt;- ChangeDocumentInternalState&lt;br&gt;-ChangeLongDocumentExternalState&lt;br&gt;&lt;br&gt;Получает доступные переходы в State" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" parent="1" vertex="1">
          <mxGeometry x="555" y="630" width="290" height="155" as="geometry" />
        </mxCell>
        <mxCell id="UocfNX80_2cdvI--xIj--95" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.75;exitDx=0;exitDy=0;entryX=0.75;entryY=1;entryDx=0;entryDy=0;" parent="1" source="UocfNX80_2cdvI--xIj--94" target="UocfNX80_2cdvI--xIj--51" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="1902.5" y="344" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="UocfNX80_2cdvI--xIj--94" value="DeleteDocument.cs" style="rounded=1;whiteSpace=wrap;html=1;strokeColor=#6c8ebf;fillColor=#dae8fc;align=left;" parent="1" vertex="1">
          <mxGeometry x="1952.5" y="230" width="120" height="20" as="geometry" />
        </mxCell>
        <mxCell id="UocfNX80_2cdvI--xIj--97" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.75;entryY=1;entryDx=0;entryDy=0;exitX=0;exitY=0.75;exitDx=0;exitDy=0;" parent="1" source="UocfNX80_2cdvI--xIj--96" target="UocfNX80_2cdvI--xIj--51" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="UocfNX80_2cdvI--xIj--96" value="ChangeLongDocumentInternalState.cs" style="rounded=1;whiteSpace=wrap;html=1;strokeColor=#6c8ebf;fillColor=#dae8fc;align=left;" parent="1" vertex="1">
          <mxGeometry x="1952.5" y="200" width="240" height="20" as="geometry" />
        </mxCell>
        <mxCell id="UocfNX80_2cdvI--xIj--99" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=1;entryY=0;entryDx=0;entryDy=0;exitX=0;exitY=0.75;exitDx=0;exitDy=0;" parent="1" source="UocfNX80_2cdvI--xIj--98" target="UocfNX80_2cdvI--xIj--51" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="UocfNX80_2cdvI--xIj--98" value="ChangeLongDocumentInternalStateObserver.cs" style="rounded=1;whiteSpace=wrap;html=1;strokeColor=#6c8ebf;fillColor=#dae8fc;align=left;" parent="1" vertex="1">
          <mxGeometry x="1952.5" y="174" width="260" height="20" as="geometry" />
        </mxCell>
        <mxCell id="UocfNX80_2cdvI--xIj--101" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=1;entryY=0;entryDx=0;entryDy=0;exitX=0;exitY=0.5;exitDx=0;exitDy=0;" parent="1" source="UocfNX80_2cdvI--xIj--100" target="UocfNX80_2cdvI--xIj--51" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="UocfNX80_2cdvI--xIj--100" value="ChangeApplicantRequestInternalStateObserver.cs" style="rounded=1;whiteSpace=wrap;html=1;strokeColor=#6c8ebf;fillColor=#dae8fc;align=left;" parent="1" vertex="1">
          <mxGeometry x="1952.5" y="140" width="280" height="20" as="geometry" />
        </mxCell>
        <mxCell id="UocfNX80_2cdvI--xIj--103" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.75;entryY=0;entryDx=0;entryDy=0;exitX=0;exitY=0.5;exitDx=0;exitDy=0;" parent="1" source="UocfNX80_2cdvI--xIj--102" target="UocfNX80_2cdvI--xIj--100" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="UocfNX80_2cdvI--xIj--102" value="А это что такое?" style="rounded=1;whiteSpace=wrap;html=1;strokeColor=#9673a6;fillColor=#e1d5e7;" parent="1" vertex="1">
          <mxGeometry x="2300" y="80" width="130" height="30" as="geometry" />
        </mxCell>
        <mxCell id="UocfNX80_2cdvI--xIj--105" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=1;entryY=0;entryDx=0;entryDy=0;" parent="1" source="UocfNX80_2cdvI--xIj--104" target="UocfNX80_2cdvI--xIj--51" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="UocfNX80_2cdvI--xIj--104" value="СommonController.cs" style="rounded=1;whiteSpace=wrap;html=1;strokeColor=#6c8ebf;fillColor=#dae8fc;align=left;" parent="1" vertex="1">
          <mxGeometry x="1952.5" y="80" width="120" height="20" as="geometry" />
        </mxCell>
        <mxCell id="UocfNX80_2cdvI--xIj--107" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=1;entryY=0;entryDx=0;entryDy=0;" parent="1" source="UocfNX80_2cdvI--xIj--106" target="UocfNX80_2cdvI--xIj--51" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="UocfNX80_2cdvI--xIj--106" value="ExecuteInternalTransition" style="rounded=1;whiteSpace=wrap;html=1;strokeColor=#6c8ebf;fillColor=#dae8fc;align=left;" parent="1" vertex="1">
          <mxGeometry x="1952.5" y="110" width="140" height="20" as="geometry" />
        </mxCell>
        <mxCell id="UocfNX80_2cdvI--xIj--110" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.75;entryY=1;entryDx=0;entryDy=0;" parent="1" source="UocfNX80_2cdvI--xIj--109" target="UocfNX80_2cdvI--xIj--51" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="UocfNX80_2cdvI--xIj--109" value="DocRequest2.aspx.cs" style="rounded=1;whiteSpace=wrap;html=1;strokeColor=#6c8ebf;fillColor=#dae8fc;align=left;" parent="1" vertex="1">
          <mxGeometry x="1952.5" y="260" width="127.5" height="20" as="geometry" />
        </mxCell>
        <mxCell id="UocfNX80_2cdvI--xIj--112" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.75;entryY=1;entryDx=0;entryDy=0;" parent="1" source="UocfNX80_2cdvI--xIj--111" target="UocfNX80_2cdvI--xIj--51" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="UocfNX80_2cdvI--xIj--111" value="StatementIncoming.aspx.cs" style="rounded=1;whiteSpace=wrap;html=1;strokeColor=#6c8ebf;fillColor=#dae8fc;align=left;" parent="1" vertex="1">
          <mxGeometry x="1952.5" y="290" width="160" height="20" as="geometry" />
        </mxCell>
        <mxCell id="UocfNX80_2cdvI--xIj--115" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;exitX=0;exitY=0.5;exitDx=0;exitDy=0;" parent="1" source="UocfNX80_2cdvI--xIj--114" target="UocfNX80_2cdvI--xIj--39" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="UocfNX80_2cdvI--xIj--114" value="CreateRegistryProject.cs" style="rounded=1;whiteSpace=wrap;html=1;strokeColor=#6c8ebf;fillColor=#dae8fc;" parent="1" vertex="1">
          <mxGeometry x="1230" y="-360" width="169" height="20" as="geometry" />
        </mxCell>
        <mxCell id="UocfNX80_2cdvI--xIj--117" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;exitX=0;exitY=0.5;exitDx=0;exitDy=0;" parent="1" source="UocfNX80_2cdvI--xIj--116" target="UocfNX80_2cdvI--xIj--39" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="UocfNX80_2cdvI--xIj--116" value="CreateResolution.cs" style="rounded=1;whiteSpace=wrap;html=1;strokeColor=#6c8ebf;fillColor=#dae8fc;" parent="1" vertex="1">
          <mxGeometry x="1230" y="-395" width="169" height="20" as="geometry" />
        </mxCell>
        <mxCell id="UocfNX80_2cdvI--xIj--120" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=1;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="UocfNX80_2cdvI--xIj--119" target="UocfNX80_2cdvI--xIj--116" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="UocfNX80_2cdvI--xIj--119" value="Создание решений" style="rounded=1;whiteSpace=wrap;html=1;strokeColor=#d79b00;fillColor=#ffe6cc;" parent="1" vertex="1">
          <mxGeometry x="1560" y="-400" width="120" height="30" as="geometry" />
        </mxCell>
        <mxCell id="UocfNX80_2cdvI--xIj--122" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;exitX=0;exitY=0.5;exitDx=0;exitDy=0;" parent="1" source="UocfNX80_2cdvI--xIj--121" target="UocfNX80_2cdvI--xIj--39" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="UocfNX80_2cdvI--xIj--121" value="CreateAddMaterialsReceived.cs" style="rounded=1;whiteSpace=wrap;html=1;strokeColor=#6c8ebf;fillColor=#dae8fc;" parent="1" vertex="1">
          <mxGeometry x="1230.5" y="-430" width="190" height="20" as="geometry" />
        </mxCell>
        <mxCell id="UocfNX80_2cdvI--xIj--124" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="UocfNX80_2cdvI--xIj--123" target="UocfNX80_2cdvI--xIj--39" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="1170" y="-290" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="UocfNX80_2cdvI--xIj--123" value="CreateDepartmentConclusion.cs" style="rounded=1;whiteSpace=wrap;html=1;strokeColor=#6c8ebf;fillColor=#dae8fc;" parent="1" vertex="1">
          <mxGeometry x="1230.5" y="-460" width="190" height="20" as="geometry" />
        </mxCell>
        <mxCell id="UocfNX80_2cdvI--xIj--126" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;exitX=0;exitY=0.5;exitDx=0;exitDy=0;" parent="1" source="UocfNX80_2cdvI--xIj--125" target="UocfNX80_2cdvI--xIj--39" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="UocfNX80_2cdvI--xIj--125" value="CreateProducerReplyOnRequest.cs" style="rounded=1;whiteSpace=wrap;html=1;strokeColor=#6c8ebf;fillColor=#dae8fc;" parent="1" vertex="1">
          <mxGeometry x="1230" y="-490" width="200.5" height="20" as="geometry" />
        </mxCell>
        <mxCell id="UocfNX80_2cdvI--xIj--128" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="UocfNX80_2cdvI--xIj--127" target="UocfNX80_2cdvI--xIj--125" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="UocfNX80_2cdvI--xIj--127" value="Возможно нужно просмотреть" style="rounded=1;whiteSpace=wrap;html=1;strokeColor=#9673a6;fillColor=#e1d5e7;" parent="1" vertex="1">
          <mxGeometry x="1560" y="-470" width="120" height="40" as="geometry" />
        </mxCell>
        <mxCell id="UocfNX80_2cdvI--xIj--130" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;" parent="1" source="UocfNX80_2cdvI--xIj--129" target="UocfNX80_2cdvI--xIj--39" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="UocfNX80_2cdvI--xIj--129" value="CreateApplicantRequestBase.cs" style="rounded=1;whiteSpace=wrap;html=1;strokeColor=#6c8ebf;fillColor=#dae8fc;" parent="1" vertex="1">
          <mxGeometry x="1220" y="-940" width="180" height="20" as="geometry" />
        </mxCell>
        <mxCell id="UocfNX80_2cdvI--xIj--132" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="UocfNX80_2cdvI--xIj--131" target="UocfNX80_2cdvI--xIj--129" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="UocfNX80_2cdvI--xIj--131" value="Создание задания" style="rounded=1;whiteSpace=wrap;html=1;strokeColor=#d79b00;fillColor=#ffe6cc;" parent="1" vertex="1">
          <mxGeometry x="1510" y="-1005" width="120" height="30" as="geometry" />
        </mxCell>
        <mxCell id="UocfNX80_2cdvI--xIj--134" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;" parent="1" source="UocfNX80_2cdvI--xIj--133" target="UocfNX80_2cdvI--xIj--39" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="UocfNX80_2cdvI--xIj--133" value="DeleteDocument.cs" style="rounded=1;whiteSpace=wrap;html=1;strokeColor=#6c8ebf;fillColor=#dae8fc;" parent="1" vertex="1">
          <mxGeometry x="1230.5" y="-560" width="180" height="20" as="geometry" />
        </mxCell>
        <mxCell id="UocfNX80_2cdvI--xIj--136" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=1;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="UocfNX80_2cdvI--xIj--135" target="UocfNX80_2cdvI--xIj--133" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="UocfNX80_2cdvI--xIj--135" value="Вызывает ChangeDocumentInternalState и ChangeApplicantRequestInternalState" style="rounded=1;whiteSpace=wrap;html=1;strokeColor=#d79b00;fillColor=#ffe6cc;" parent="1" vertex="1">
          <mxGeometry x="1570" y="-620" width="230" height="51" as="geometry" />
        </mxCell>
        <mxCell id="UocfNX80_2cdvI--xIj--138" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="UocfNX80_2cdvI--xIj--137" target="UocfNX80_2cdvI--xIj--135" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="UocfNX80_2cdvI--xIj--137" value="Возможно проверяет тип и вызывает разные транзакции в том числе и ChangeLongDocumentInternalState" style="rounded=1;whiteSpace=wrap;html=1;strokeColor=#9673a6;fillColor=#e1d5e7;" parent="1" vertex="1">
          <mxGeometry x="1860" y="-620" width="220" height="70" as="geometry" />
        </mxCell>
        <mxCell id="UocfNX80_2cdvI--xIj--140" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;exitX=0;exitY=0.5;exitDx=0;exitDy=0;" parent="1" source="UocfNX80_2cdvI--xIj--139" target="UocfNX80_2cdvI--xIj--39" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="UocfNX80_2cdvI--xIj--139" value="ChangeInternalStateObserver" style="rounded=1;whiteSpace=wrap;html=1;strokeColor=#6c8ebf;fillColor=#dae8fc;" parent="1" vertex="1">
          <mxGeometry x="1230.5" y="-604" width="180" height="20" as="geometry" />
        </mxCell>
        <mxCell id="UocfNX80_2cdvI--xIj--142" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=1;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="UocfNX80_2cdvI--xIj--141" target="UocfNX80_2cdvI--xIj--133" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="UocfNX80_2cdvI--xIj--141" value="Нужно посмотреть" style="rounded=1;whiteSpace=wrap;html=1;strokeColor=#9673a6;fillColor=#e1d5e7;" parent="1" vertex="1">
          <mxGeometry x="1570" y="-650" width="120" height="20" as="geometry" />
        </mxCell>
        <mxCell id="UocfNX80_2cdvI--xIj--144" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;exitX=0;exitY=0.5;exitDx=0;exitDy=0;" parent="1" source="UocfNX80_2cdvI--xIj--143" target="UocfNX80_2cdvI--xIj--39" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="UocfNX80_2cdvI--xIj--143" value="ChangeLongDocumentInternalStateObserver.cs" style="rounded=1;whiteSpace=wrap;html=1;strokeColor=#6c8ebf;fillColor=#dae8fc;" parent="1" vertex="1">
          <mxGeometry x="1220" y="-660" width="260" height="20" as="geometry" />
        </mxCell>
        <mxCell id="UocfNX80_2cdvI--xIj--146" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;exitX=0;exitY=0.5;exitDx=0;exitDy=0;" parent="1" source="UocfNX80_2cdvI--xIj--145" target="UocfNX80_2cdvI--xIj--39" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="UocfNX80_2cdvI--xIj--145" value="CreateIncomingPackageObserver.cs" style="rounded=1;whiteSpace=wrap;html=1;strokeColor=#6c8ebf;fillColor=#dae8fc;" parent="1" vertex="1">
          <mxGeometry x="1219" y="-690" width="260" height="20" as="geometry" />
        </mxCell>
        <mxCell id="UocfNX80_2cdvI--xIj--147" value="AddMaterialsReceivedUpdateHelper.cs" style="rounded=1;whiteSpace=wrap;html=1;strokeColor=#6c8ebf;fillColor=#dae8fc;" parent="1" vertex="1">
          <mxGeometry x="1220" y="-720" width="260" height="20" as="geometry" />
        </mxCell>
        <mxCell id="UocfNX80_2cdvI--xIj--149" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;exitX=0;exitY=0.5;exitDx=0;exitDy=0;" parent="1" source="UocfNX80_2cdvI--xIj--148" target="UocfNX80_2cdvI--xIj--39" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="UocfNX80_2cdvI--xIj--148" value="CommonController.cs" style="rounded=1;whiteSpace=wrap;html=1;strokeColor=#6c8ebf;fillColor=#dae8fc;" parent="1" vertex="1">
          <mxGeometry x="1220" y="-750" width="260" height="20" as="geometry" />
        </mxCell>
        <mxCell id="UocfNX80_2cdvI--xIj--151" value="" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="UocfNX80_2cdvI--xIj--150" target="UocfNX80_2cdvI--xIj--148" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="UocfNX80_2cdvI--xIj--150" value="Вызывает ChangeDocumentInternalState и ChangeApplicantRequestInternalState" style="rounded=1;whiteSpace=wrap;html=1;strokeColor=#d79b00;fillColor=#ffe6cc;" parent="1" vertex="1">
          <mxGeometry x="1570" y="-791" width="230" height="51" as="geometry" />
        </mxCell>
        <mxCell id="UocfNX80_2cdvI--xIj--156" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.75;entryY=0;entryDx=0;entryDy=0;" parent="1" source="UocfNX80_2cdvI--xIj--154" target="UocfNX80_2cdvI--xIj--150" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="UocfNX80_2cdvI--xIj--154" value="&lt;div&gt;[NonAction]&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; private static ChangeDocumentInternalState CreateChangeStateOperation(string documentType, ICoreUnitOfWork unit)&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; {&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; var isRequest = documentType == StatementTypeList.ApplicantRequestFgbu || documentType == StatementTypeList.ApplicantRequestMinistryOfHealth&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; || documentType == StatementTypeList.ApplicantRequestInspection;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; return isRequest ? new ChangeApplicantRequestInternalState(unit) : new ChangeDocumentInternalState(unit);&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; }&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#666666;fillColor=#f5f5f5;fontColor=#333333;align=left;" parent="1" vertex="1">
          <mxGeometry x="1870" y="-890" width="860" height="110" as="geometry" />
        </mxCell>
        <mxCell id="UocfNX80_2cdvI--xIj--158" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;exitX=0;exitY=0.5;exitDx=0;exitDy=0;" parent="1" source="UocfNX80_2cdvI--xIj--157" target="UocfNX80_2cdvI--xIj--39" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="UocfNX80_2cdvI--xIj--157" value="DocumentFormController.cs" style="rounded=1;whiteSpace=wrap;html=1;strokeColor=#6c8ebf;fillColor=#dae8fc;" parent="1" vertex="1">
          <mxGeometry x="1219" y="-780" width="201" height="20" as="geometry" />
        </mxCell>
        <mxCell id="UocfNX80_2cdvI--xIj--161" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;exitX=0;exitY=0.5;exitDx=0;exitDy=0;" parent="1" source="UocfNX80_2cdvI--xIj--159" target="UocfNX80_2cdvI--xIj--39" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="UocfNX80_2cdvI--xIj--159" value="TaskRegistryController.cs" style="rounded=1;whiteSpace=wrap;html=1;strokeColor=#6c8ebf;fillColor=#dae8fc;" parent="1" vertex="1">
          <mxGeometry x="1220" y="-811" width="201" height="20" as="geometry" />
        </mxCell>
        <mxCell id="UocfNX80_2cdvI--xIj--162" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;exitX=0;exitY=0.25;exitDx=0;exitDy=0;" parent="1" source="UocfNX80_2cdvI--xIj--160" target="UocfNX80_2cdvI--xIj--39" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="UocfNX80_2cdvI--xIj--160" value="InformationLetterUpdateHelper.cs" style="rounded=1;whiteSpace=wrap;html=1;strokeColor=#6c8ebf;fillColor=#dae8fc;" parent="1" vertex="1">
          <mxGeometry x="1220" y="-840" width="201" height="20" as="geometry" />
        </mxCell>
        <mxCell id="UocfNX80_2cdvI--xIj--164" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;exitX=0;exitY=0.5;exitDx=0;exitDy=0;" parent="1" source="UocfNX80_2cdvI--xIj--163" target="UocfNX80_2cdvI--xIj--39" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="UocfNX80_2cdvI--xIj--163" value="ProducerReplyOnRequestUpdateHelper.cs" style="rounded=1;whiteSpace=wrap;html=1;strokeColor=#6c8ebf;fillColor=#dae8fc;" parent="1" vertex="1">
          <mxGeometry x="1220" y="-870" width="240" height="20" as="geometry" />
        </mxCell>
        <mxCell id="UocfNX80_2cdvI--xIj--166" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;exitX=0;exitY=0.5;exitDx=0;exitDy=0;" parent="1" source="UocfNX80_2cdvI--xIj--165" target="UocfNX80_2cdvI--xIj--39" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="UocfNX80_2cdvI--xIj--165" value="DocumentWebApiController.cs" style="rounded=1;whiteSpace=wrap;html=1;strokeColor=#6c8ebf;fillColor=#dae8fc;" parent="1" vertex="1">
          <mxGeometry x="1220" y="-900" width="240" height="20" as="geometry" />
        </mxCell>
        <mxCell id="UocfNX80_2cdvI--xIj--168" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=1;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="UocfNX80_2cdvI--xIj--167" target="UocfNX80_2cdvI--xIj--165" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="UocfNX80_2cdvI--xIj--167" value="Нужно посмотреть" style="rounded=1;whiteSpace=wrap;html=1;strokeColor=#9673a6;fillColor=#e1d5e7;" parent="1" vertex="1">
          <mxGeometry x="1585" y="-880" width="120" height="20" as="geometry" />
        </mxCell>
        <mxCell id="UocfNX80_2cdvI--xIj--170" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="UocfNX80_2cdvI--xIj--169" target="UocfNX80_2cdvI--xIj--148" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="UocfNX80_2cdvI--xIj--169" value="Нужно посмотреть" style="rounded=1;whiteSpace=wrap;html=1;strokeColor=#9673a6;fillColor=#e1d5e7;" parent="1" vertex="1">
          <mxGeometry x="1570" y="-730" width="120" height="20" as="geometry" />
        </mxCell>
        <mxCell id="UocfNX80_2cdvI--xIj--172" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=1;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="UocfNX80_2cdvI--xIj--171" target="UocfNX80_2cdvI--xIj--139" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="UocfNX80_2cdvI--xIj--171" value="Нужно посмотреть" style="rounded=1;whiteSpace=wrap;html=1;strokeColor=#9673a6;fillColor=#e1d5e7;" parent="1" vertex="1">
          <mxGeometry x="1570" y="-680" width="120" height="20" as="geometry" />
        </mxCell>
        <mxCell id="UocfNX80_2cdvI--xIj--174" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.75;entryY=0;entryDx=0;entryDy=0;" parent="1" source="UocfNX80_2cdvI--xIj--173" target="UocfNX80_2cdvI--xIj--131" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="UocfNX80_2cdvI--xIj--173" value="Почему создание задания вызывает ChangeDocumentInternalState, а не ChangeApplicantRequestInternalState" style="rounded=1;whiteSpace=wrap;html=1;strokeColor=#9673a6;fillColor=#e1d5e7;" parent="1" vertex="1">
          <mxGeometry x="1695" y="-1071.25" width="235" height="50" as="geometry" />
        </mxCell>
        <mxCell id="UocfNX80_2cdvI--xIj--176" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=1;entryDx=0;entryDy=0;exitX=0;exitY=0.5;exitDx=0;exitDy=0;" parent="1" source="UocfNX80_2cdvI--xIj--175" target="UocfNX80_2cdvI--xIj--6" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="UocfNX80_2cdvI--xIj--175" value="Какая транзакция используется?" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;" parent="1" vertex="1">
          <mxGeometry x="860" y="270" width="130" height="30" as="geometry" />
        </mxCell>
        <mxCell id="UocfNX80_2cdvI--xIj--179" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.75;entryY=1;entryDx=0;entryDy=0;" parent="1" source="UocfNX80_2cdvI--xIj--178" target="UocfNX80_2cdvI--xIj--73" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="UocfNX80_2cdvI--xIj--178" value="&amp;lt;&amp;lt; observer &amp;gt;&amp;gt;&lt;br&gt;ChangeInternalStateObserver" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" parent="1" vertex="1">
          <mxGeometry x="1510" y="460" width="210" height="50" as="geometry" />
        </mxCell>
        <mxCell id="UocfNX80_2cdvI--xIj--188" value="" style="group" parent="1" vertex="1" connectable="0">
          <mxGeometry x="1622.5" y="530" width="800" height="300" as="geometry" />
        </mxCell>
        <mxCell id="UocfNX80_2cdvI--xIj--180" value=":ChangeApplicantRequestInternalState" style="shape=umlLifeline;perimeter=lifelinePerimeter;whiteSpace=wrap;html=1;container=1;collapsible=0;recursiveResize=0;outlineConnect=0;" parent="UocfNX80_2cdvI--xIj--188" vertex="1">
          <mxGeometry width="220" height="300" as="geometry" />
        </mxCell>
        <mxCell id="UocfNX80_2cdvI--xIj--184" value="dispatch" style="html=1;verticalAlign=bottom;startArrow=circle;startFill=1;endArrow=open;startSize=6;endSize=8;rounded=0;curved=1;" parent="UocfNX80_2cdvI--xIj--180" target="UocfNX80_2cdvI--xIj--180" edge="1">
          <mxGeometry width="80" relative="1" as="geometry">
            <mxPoint x="10" y="75" as="sourcePoint" />
            <mxPoint x="90" y="75" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="UocfNX80_2cdvI--xIj--181" value=":ChangeDocumentInternalState" style="shape=umlLifeline;perimeter=lifelinePerimeter;whiteSpace=wrap;html=1;container=1;collapsible=0;recursiveResize=0;outlineConnect=0;" parent="UocfNX80_2cdvI--xIj--188" vertex="1">
          <mxGeometry x="242.5" width="187.5" height="300" as="geometry" />
        </mxCell>
        <mxCell id="UocfNX80_2cdvI--xIj--182" value=":ChangeInternalStateObserver" style="shape=umlLifeline;perimeter=lifelinePerimeter;whiteSpace=wrap;html=1;container=1;collapsible=0;recursiveResize=0;outlineConnect=0;" parent="UocfNX80_2cdvI--xIj--188" vertex="1">
          <mxGeometry x="452.5" width="187.5" height="300" as="geometry" />
        </mxCell>
        <mxCell id="UocfNX80_2cdvI--xIj--183" value=":ChangeDocumentState" style="shape=umlLifeline;perimeter=lifelinePerimeter;whiteSpace=wrap;html=1;container=1;collapsible=0;recursiveResize=0;outlineConnect=0;" parent="UocfNX80_2cdvI--xIj--188" vertex="1">
          <mxGeometry x="650" width="150" height="300" as="geometry" />
        </mxCell>
        <mxCell id="UocfNX80_2cdvI--xIj--185" value="dispatch" style="html=1;verticalAlign=bottom;endArrow=block;rounded=0;curved=1;" parent="UocfNX80_2cdvI--xIj--188" source="UocfNX80_2cdvI--xIj--180" target="UocfNX80_2cdvI--xIj--181" edge="1">
          <mxGeometry width="80" relative="1" as="geometry">
            <mxPoint x="310" y="10" as="sourcePoint" />
            <mxPoint x="334" y="119" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="UocfNX80_2cdvI--xIj--186" value="dispatch" style="html=1;verticalAlign=bottom;startArrow=oval;startFill=1;endArrow=block;startSize=8;rounded=0;curved=1;" parent="UocfNX80_2cdvI--xIj--188" source="UocfNX80_2cdvI--xIj--181" target="UocfNX80_2cdvI--xIj--182" edge="1">
          <mxGeometry width="60" relative="1" as="geometry">
            <mxPoint x="320" y="10" as="sourcePoint" />
            <mxPoint x="380" y="10" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="UocfNX80_2cdvI--xIj--187" value="dispatch" style="html=1;verticalAlign=bottom;startArrow=oval;startFill=1;endArrow=block;startSize=8;rounded=0;curved=1;" parent="UocfNX80_2cdvI--xIj--188" source="UocfNX80_2cdvI--xIj--182" target="UocfNX80_2cdvI--xIj--183" edge="1">
          <mxGeometry width="60" relative="1" as="geometry">
            <mxPoint x="545.8804347826081" y="169" as="sourcePoint" />
            <mxPoint x="724.5" y="169" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="UocfNX80_2cdvI--xIj--267" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.75;entryY=0;entryDx=0;entryDy=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" parent="1" source="UocfNX80_2cdvI--xIj--197" target="UocfNX80_2cdvI--xIj--265" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="UocfNX80_2cdvI--xIj--197" value="docInnerStateRepo = new GetDocumentInternalState(unitOfWork);&lt;br&gt;&lt;div&gt;var doc = GetDocumentModel(documentType, _documentId);&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;var currenState = docInnerStateRepo.Do(doc);&lt;/span&gt;&lt;br&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#9673a6;fillColor=#e1d5e7;align=left;movable=1;resizable=1;rotatable=1;deletable=1;editable=1;connectable=1;opacity=70;textOpacity=70;" parent="1" vertex="1">
          <mxGeometry x="430" y="-483.75" width="360" height="67.5" as="geometry" />
        </mxCell>
        <mxCell id="UocfNX80_2cdvI--xIj--200" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.25;entryY=0;entryDx=0;entryDy=0;exitX=0;exitY=0.75;exitDx=0;exitDy=0;" parent="1" source="UocfNX80_2cdvI--xIj--199" target="UocfNX80_2cdvI--xIj--4" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="UocfNX80_2cdvI--xIj--199" value="Зачем-то проверяет что еще является ApplicantRequest ... видимо кому-то было лень разбираться где это вызывается, где нужно заменить вызов на ChangeApplicantRequestInternalState и сделал тут&amp;nbsp;" style="rounded=1;whiteSpace=wrap;html=1;strokeColor=#d79b00;fillColor=#ffe6cc;" parent="1" vertex="1">
          <mxGeometry x="1070" y="-1070" width="309.5" height="80" as="geometry" />
        </mxCell>
        <mxCell id="UocfNX80_2cdvI--xIj--203" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.75;entryY=0;entryDx=0;entryDy=0;" parent="1" source="UocfNX80_2cdvI--xIj--202" target="UocfNX80_2cdvI--xIj--199" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="UocfNX80_2cdvI--xIj--202" value="&lt;div&gt;if ((documentType.Code == StatementTypeList.ApplicantRequestFgbu || documentType.Code == StatementTypeList.ApplicantRequestInspection) &amp;amp;&amp;amp;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; !(new string[] { InnerStateCode.rejected, InnerStateCode.project }.Contains(_stateTransition.ToState.Code)) &amp;amp;&amp;amp;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; !new ApplicantRequestCheckGrlsDoc(UnitOfWork).Do(_documentId))&lt;/div&gt;&lt;div&gt;{&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; var checkFile = new ApplicantRequestCheckEan(UnitOfWork).Do(_documentId);&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; if (!checkFile &amp;amp;&amp;amp; !UnitOfWork.UserPermissions.Can(ActionsEnum.StatementSuperAdmin))&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; {&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; return ValidationResult.Fail(string.Format(&quot;Не указан фаил печатной формы запроса&quot;));&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; }&lt;/div&gt;&lt;div&gt;}&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;align=left;" parent="1" vertex="1">
          <mxGeometry x="980" y="-1300" width="820" height="170" as="geometry" />
        </mxCell>
        <mxCell id="UocfNX80_2cdvI--xIj--208" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.661;entryY=0.991;entryDx=0;entryDy=0;entryPerimeter=0;" parent="1" source="UocfNX80_2cdvI--xIj--204" target="UocfNX80_2cdvI--xIj--2" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="UocfNX80_2cdvI--xIj--204" value="Где можно создать запрос?" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;" parent="1" vertex="1">
          <mxGeometry x="590" y="320" width="190" height="20" as="geometry" />
        </mxCell>
        <mxCell id="UocfNX80_2cdvI--xIj--207" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.75;entryY=1;entryDx=0;entryDy=0;" parent="1" source="UocfNX80_2cdvI--xIj--205" target="UocfNX80_2cdvI--xIj--204" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="UocfNX80_2cdvI--xIj--205" value="Реестр запросов ГРЛС" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" parent="1" vertex="1">
          <mxGeometry x="980" y="400" width="190" height="50" as="geometry" />
        </mxCell>
        <mxCell id="UocfNX80_2cdvI--xIj--209" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.75;entryY=1;entryDx=0;entryDy=0;" parent="1" source="UocfNX80_2cdvI--xIj--206" target="UocfNX80_2cdvI--xIj--204" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="UocfNX80_2cdvI--xIj--206" value="Кабинет эксперта" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" parent="1" vertex="1">
          <mxGeometry x="980" y="460" width="190" height="50" as="geometry" />
        </mxCell>
        <mxCell id="UocfNX80_2cdvI--xIj--211" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=1;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="UocfNX80_2cdvI--xIj--210" target="UocfNX80_2cdvI--xIj--178" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="UocfNX80_2cdvI--xIj--210" value="Зачем Observer вызывает ChangeLongDocumentInternalState ?" style="rounded=1;whiteSpace=wrap;html=1;strokeColor=#9673a6;fillColor=#e1d5e7;" parent="1" vertex="1">
          <mxGeometry x="1820" y="400" width="220" height="50" as="geometry" />
        </mxCell>
        <mxCell id="UocfNX80_2cdvI--xIj--213" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.75;entryDx=0;entryDy=0;exitX=0.667;exitY=0;exitDx=0;exitDy=0;exitPerimeter=0;" parent="1" source="UocfNX80_2cdvI--xIj--212" target="UocfNX80_2cdvI--xIj--178" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="UocfNX80_2cdvI--xIj--212" value="Где вызывается?" style="rounded=1;whiteSpace=wrap;html=1;strokeColor=#9673a6;fillColor=#e1d5e7;textOpacity=50;opacity=50;" parent="1" vertex="1">
          <mxGeometry x="1254.5" y="600" width="120" height="35" as="geometry" />
        </mxCell>
        <mxCell id="UocfNX80_2cdvI--xIj--215" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.75;entryDx=0;entryDy=0;" parent="1" source="UocfNX80_2cdvI--xIj--214" target="UocfNX80_2cdvI--xIj--212" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="UocfNX80_2cdvI--xIj--214" value="биндится в&amp;nbsp;&lt;br&gt;Core.BL/Infrastructure/ObserversModule.cs" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" parent="1" vertex="1">
          <mxGeometry x="1100" y="690" width="240" height="50" as="geometry" />
        </mxCell>
        <mxCell id="UocfNX80_2cdvI--xIj--217" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="UocfNX80_2cdvI--xIj--216" target="UocfNX80_2cdvI--xIj--214" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="UocfNX80_2cdvI--xIj--216" value="&lt;div&gt;this.BindRepo&amp;lt;ITransactionObserver, ChangeInternalStateObserver&amp;gt;().Named(typeof(ChangeDocumentInternalState));&lt;/div&gt;&lt;div&gt;this.BindRepo&amp;lt;ITransactionObserver, ChangeInternalStateObserver&amp;gt;().Named(typeof(ChangeApplicantRequestInternalState));&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;align=left;" parent="1" vertex="1">
          <mxGeometry x="950" y="800" width="680" height="40" as="geometry" />
        </mxCell>
        <mxCell id="UocfNX80_2cdvI--xIj--221" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="UocfNX80_2cdvI--xIj--220" target="UocfNX80_2cdvI--xIj--131" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="UocfNX80_2cdvI--xIj--220" value="&amp;lt;&amp;lt; observer &amp;gt;&amp;gt;&lt;br&gt;Более того имеет еще&amp;nbsp;&lt;br&gt;CreateApplicantRequestObserver" style="rounded=1;whiteSpace=wrap;html=1;strokeColor=#d79b00;fillColor=#ffe6cc;" parent="1" vertex="1">
          <mxGeometry x="1695" y="-1005" width="205" height="55" as="geometry" />
        </mxCell>
        <mxCell id="UocfNX80_2cdvI--xIj--223" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="UocfNX80_2cdvI--xIj--222" target="UocfNX80_2cdvI--xIj--220" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="UocfNX80_2cdvI--xIj--222" value="Меняет состояние родительского документа у запросов потока КИ (Клинических исследований)&amp;nbsp;" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#6c8ebf;fillColor=#dae8fc;" parent="1" vertex="1">
          <mxGeometry x="1962.5" y="-1035" width="230" height="60" as="geometry" />
        </mxCell>
        <mxCell id="UocfNX80_2cdvI--xIj--237" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=1;entryY=0.75;entryDx=0;entryDy=0;" parent="1" source="UocfNX80_2cdvI--xIj--236" target="UocfNX80_2cdvI--xIj--220" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="UocfNX80_2cdvI--xIj--236" value="&amp;lt;&amp;lt; логика &amp;gt;&amp;gt;&lt;br&gt;На созданный запрос вызвать изменение состояния у родительского документа" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#6c8ebf;fillColor=#dae8fc;" parent="1" vertex="1">
          <mxGeometry x="1962.5" y="-960" width="230" height="60" as="geometry" />
        </mxCell>
        <mxCell id="UocfNX80_2cdvI--xIj--224" value="CreateApplicantRequestBase" style="shape=umlLifeline;perimeter=lifelinePerimeter;whiteSpace=wrap;html=1;container=1;collapsible=0;recursiveResize=0;outlineConnect=0;movable=0;resizable=0;rotatable=0;deletable=0;editable=0;connectable=0;" parent="1" vertex="1">
          <mxGeometry x="1962.5" y="-1340" width="177.5" height="300" as="geometry" />
        </mxCell>
        <mxCell id="UocfNX80_2cdvI--xIj--228" value="dispatch" style="html=1;verticalAlign=bottom;startArrow=circle;startFill=1;endArrow=open;startSize=6;endSize=8;rounded=0;curved=1;movable=0;resizable=0;rotatable=0;deletable=0;editable=0;connectable=0;" parent="UocfNX80_2cdvI--xIj--224" target="UocfNX80_2cdvI--xIj--224" edge="1">
          <mxGeometry width="80" relative="1" as="geometry">
            <mxPoint x="13.75" y="80" as="sourcePoint" />
            <mxPoint x="93.75" y="80" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="UocfNX80_2cdvI--xIj--225" value="ChangeDocumentInternalState" style="shape=umlLifeline;perimeter=lifelinePerimeter;whiteSpace=wrap;html=1;container=1;collapsible=0;recursiveResize=0;outlineConnect=0;movable=0;resizable=0;rotatable=0;deletable=0;editable=0;connectable=0;" parent="1" vertex="1">
          <mxGeometry x="2150" y="-1340" width="177.5" height="300" as="geometry" />
        </mxCell>
        <mxCell id="UocfNX80_2cdvI--xIj--230" value="" style="html=1;points=[];perimeter=orthogonalPerimeter;opacity=70;movable=0;resizable=0;rotatable=0;deletable=0;editable=0;connectable=0;" parent="UocfNX80_2cdvI--xIj--225" vertex="1">
          <mxGeometry x="83.75" y="100" width="10" height="70" as="geometry" />
        </mxCell>
        <mxCell id="UocfNX80_2cdvI--xIj--226" value="ChangeInternalStateObserver" style="shape=umlLifeline;perimeter=lifelinePerimeter;whiteSpace=wrap;html=1;container=1;collapsible=0;recursiveResize=0;outlineConnect=0;movable=0;resizable=0;rotatable=0;deletable=0;editable=0;connectable=0;" parent="1" vertex="1">
          <mxGeometry x="2340" y="-1340" width="177.5" height="300" as="geometry" />
        </mxCell>
        <mxCell id="UocfNX80_2cdvI--xIj--231" value="" style="html=1;points=[];perimeter=orthogonalPerimeter;opacity=70;movable=0;resizable=0;rotatable=0;deletable=0;editable=0;connectable=0;" parent="UocfNX80_2cdvI--xIj--226" vertex="1">
          <mxGeometry x="83.75" y="115" width="10" height="35" as="geometry" />
        </mxCell>
        <mxCell id="UocfNX80_2cdvI--xIj--227" value="CreateApplicantRequestObserver" style="shape=umlLifeline;perimeter=lifelinePerimeter;whiteSpace=wrap;html=1;container=1;collapsible=0;recursiveResize=0;outlineConnect=0;movable=0;resizable=0;rotatable=0;deletable=0;editable=0;connectable=0;" parent="1" vertex="1">
          <mxGeometry x="2530" y="-1340" width="190" height="300" as="geometry" />
        </mxCell>
        <mxCell id="UocfNX80_2cdvI--xIj--233" value="" style="html=1;points=[];perimeter=orthogonalPerimeter;opacity=70;movable=0;resizable=0;rotatable=0;deletable=0;editable=0;connectable=0;" parent="UocfNX80_2cdvI--xIj--227" vertex="1">
          <mxGeometry x="90" y="190" width="10" height="35" as="geometry" />
        </mxCell>
        <mxCell id="UocfNX80_2cdvI--xIj--229" value="&amp;lt;&amp;lt; call &amp;gt;&amp;gt;" style="html=1;verticalAlign=bottom;endArrow=block;rounded=0;curved=1;entryX=-0.092;entryY=0.002;entryDx=0;entryDy=0;entryPerimeter=0;movable=0;resizable=0;rotatable=0;deletable=0;editable=0;connectable=0;" parent="1" source="UocfNX80_2cdvI--xIj--224" target="UocfNX80_2cdvI--xIj--230" edge="1">
          <mxGeometry width="80" relative="1" as="geometry">
            <mxPoint x="2180" y="-1170" as="sourcePoint" />
            <mxPoint x="2260" y="-1170" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="UocfNX80_2cdvI--xIj--232" value="Run()" style="html=1;verticalAlign=bottom;endArrow=block;rounded=0;curved=1;entryX=-0.032;entryY=0.005;entryDx=0;entryDy=0;entryPerimeter=0;movable=0;resizable=0;rotatable=0;deletable=0;editable=0;connectable=0;" parent="1" source="UocfNX80_2cdvI--xIj--230" target="UocfNX80_2cdvI--xIj--231" edge="1">
          <mxGeometry width="80" relative="1" as="geometry">
            <mxPoint x="2280" y="-1220" as="sourcePoint" />
            <mxPoint x="2360" y="-1220" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="UocfNX80_2cdvI--xIj--234" value="Run()" style="html=1;verticalAlign=bottom;endArrow=block;rounded=0;curved=1;entryX=-0.021;entryY=0.011;entryDx=0;entryDy=0;entryPerimeter=0;movable=0;resizable=0;rotatable=0;deletable=0;editable=0;connectable=0;" parent="1" source="UocfNX80_2cdvI--xIj--224" target="UocfNX80_2cdvI--xIj--233" edge="1">
          <mxGeometry x="-0.6876" width="80" relative="1" as="geometry">
            <mxPoint x="2061.1785714285716" y="-1229.8600000000001" as="sourcePoint" />
            <mxPoint x="2242.8300000000004" y="-1229.8600000000001" as="targetPoint" />
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="UocfNX80_2cdvI--xIj--239" value="ChangeDocumentState" style="shape=umlLifeline;perimeter=lifelinePerimeter;whiteSpace=wrap;html=1;container=1;collapsible=0;recursiveResize=0;outlineConnect=0;movable=0;resizable=0;rotatable=0;deletable=0;editable=0;connectable=0;" parent="1" vertex="1">
          <mxGeometry x="2730" y="-1340" width="190" height="300" as="geometry" />
        </mxCell>
        <mxCell id="UocfNX80_2cdvI--xIj--240" value="" style="html=1;points=[];perimeter=orthogonalPerimeter;opacity=70;movable=0;resizable=0;rotatable=0;deletable=0;editable=0;connectable=0;" parent="UocfNX80_2cdvI--xIj--239" vertex="1">
          <mxGeometry x="90" y="200" width="10" height="20" as="geometry" />
        </mxCell>
        <mxCell id="UocfNX80_2cdvI--xIj--241" value="Run()" style="html=1;verticalAlign=bottom;endArrow=block;rounded=0;curved=1;entryX=-0.125;entryY=0.117;entryDx=0;entryDy=0;entryPerimeter=0;movable=0;resizable=0;rotatable=0;deletable=0;editable=0;connectable=0;" parent="1" source="UocfNX80_2cdvI--xIj--233" target="UocfNX80_2cdvI--xIj--240" edge="1">
          <mxGeometry width="80" relative="1" as="geometry">
            <mxPoint x="2690" y="-1080" as="sourcePoint" />
            <mxPoint x="2770" y="-1080" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="UocfNX80_2cdvI--xIj--242" value="Изменяет внешнее состояние" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;movable=0;rotatable=0;deletable=0;editable=0;connectable=0;" parent="1" vertex="1">
          <mxGeometry x="2766" y="-1364" width="190" height="30" as="geometry" />
        </mxCell>
        <mxCell id="UocfNX80_2cdvI--xIj--249" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.75;entryY=1;entryDx=0;entryDy=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" parent="1" source="UocfNX80_2cdvI--xIj--247" target="UocfNX80_2cdvI--xIj--64" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="UocfNX80_2cdvI--xIj--250" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.75;entryY=1;entryDx=0;entryDy=0;" parent="1" source="UocfNX80_2cdvI--xIj--247" target="UocfNX80_2cdvI--xIj--55" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="UocfNX80_2cdvI--xIj--247" value="Существует несколько Observer, они реализуют различные интерфейсы&lt;br&gt;- ITransactionObserver (success)&lt;br&gt;- ITransactionFailObserver (fail)&lt;br&gt;&lt;br&gt;Дальше регистрируются (binding) в Ninject и извлекаются (резолвятся) в CoreUnitOfWork, который объявляет 2 метода&lt;br&gt;- OnTransactionFail() - который извлекает байндинги интерфейса&amp;nbsp;ITransactionFailObserver&lt;br&gt;- OnTransactionSuccess() - который извлекает байндинги ITransactionObserver&lt;br&gt;" style="rounded=1;whiteSpace=wrap;html=1;strokeColor=#6c8ebf;fillColor=#dae8fc;align=left;spacingLeft=11;" parent="1" vertex="1">
          <mxGeometry x="-90" y="600" width="370" height="160" as="geometry" />
        </mxCell>
        <mxCell id="UocfNX80_2cdvI--xIj--252" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;" parent="1" source="UocfNX80_2cdvI--xIj--251" target="UocfNX80_2cdvI--xIj--247" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="UocfNX80_2cdvI--xIj--251" value="Их может быть несколько" style="rounded=1;whiteSpace=wrap;html=1;strokeColor=#d79b00;fillColor=#ffe6cc;" parent="1" vertex="1">
          <mxGeometry x="150" y="800" width="120" height="40" as="geometry" />
        </mxCell>
        <mxCell id="UocfNX80_2cdvI--xIj--254" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=1;entryDx=0;entryDy=0;" parent="1" source="UocfNX80_2cdvI--xIj--253" target="UocfNX80_2cdvI--xIj--1" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="UocfNX80_2cdvI--xIj--253" value="Как получить MedicamentRegistrationApplicantRequest с помощью DocumentId &amp;lt;&amp;lt;long&amp;gt;&amp;gt; ?" style="rounded=1;whiteSpace=wrap;html=1;strokeColor=#9673a6;fillColor=#e1d5e7;" parent="1" vertex="1">
          <mxGeometry x="620" y="920" width="250" height="60" as="geometry" />
        </mxCell>
        <mxCell id="UocfNX80_2cdvI--xIj--256" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="UocfNX80_2cdvI--xIj--255" target="UocfNX80_2cdvI--xIj--16" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="UocfNX80_2cdvI--xIj--255" value="Транзакции изменения внутреннего состояния (InternalState) используют&amp;nbsp;ChangeStateInfo... где ID свойство этой модели имеет тип long - это свойство - это DocumentID?" style="rounded=1;whiteSpace=wrap;html=1;strokeColor=#9673a6;fillColor=#e1d5e7;" parent="1" vertex="1">
          <mxGeometry x="-570" y="-60" width="270" height="60" as="geometry" />
        </mxCell>
        <mxCell id="UocfNX80_2cdvI--xIj--258" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" parent="1" source="UocfNX80_2cdvI--xIj--257" target="UocfNX80_2cdvI--xIj--255" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="UocfNX80_2cdvI--xIj--257" value="Если Да, то получается что неправильно вызывается в ChangeLongDocumentInternalState - ChangeDocumentInternalState.Run(...), куда пробрасывается (int) documentID" style="rounded=1;whiteSpace=wrap;html=1;strokeColor=#9673a6;fillColor=#e1d5e7;" parent="1" vertex="1">
          <mxGeometry x="-823" y="-170" width="290" height="60" as="geometry" />
        </mxCell>
        <mxCell id="UocfNX80_2cdvI--xIj--261" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=1;entryDx=0;entryDy=0;exitX=0;exitY=0.5;exitDx=0;exitDy=0;" parent="1" source="UocfNX80_2cdvI--xIj--259" target="UocfNX80_2cdvI--xIj--4" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="UocfNX80_2cdvI--xIj--259" value="Что такое ChangeDocumentRequest.DocumentID (тип int) ?" style="rounded=1;whiteSpace=wrap;html=1;strokeColor=#9673a6;fillColor=#e1d5e7;opacity=70;textOpacity=70;" parent="1" vertex="1">
          <mxGeometry x="1060" y="40" width="270" height="40" as="geometry" />
        </mxCell>
        <mxCell id="UocfNX80_2cdvI--xIj--266" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.173;entryY=-0.026;entryDx=0;entryDy=0;entryPerimeter=0;" parent="1" source="UocfNX80_2cdvI--xIj--265" target="UocfNX80_2cdvI--xIj--4" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="UocfNX80_2cdvI--xIj--265" value="&lt;b&gt;&amp;lt;&amp;lt; проблема &amp;gt;&amp;gt;&lt;/b&gt;&lt;br&gt;Проблема с получением currentState" style="rounded=1;whiteSpace=wrap;html=1;strokeColor=#9673a6;fillColor=#e1d5e7;textOpacity=70;opacity=70;" parent="1" vertex="1">
          <mxGeometry x="670" y="-400" width="210" height="50" as="geometry" />
        </mxCell>
        <mxCell id="UocfNX80_2cdvI--xIj--268" value=":ChangeDocumentInternalState" style="shape=umlLifeline;perimeter=lifelinePerimeter;whiteSpace=wrap;html=1;container=1;collapsible=0;recursiveResize=0;outlineConnect=0;movable=0;resizable=0;rotatable=0;deletable=0;editable=0;connectable=0;" parent="1" vertex="1">
          <mxGeometry x="300" y="-730" width="180" height="220" as="geometry" />
        </mxCell>
        <mxCell id="UocfNX80_2cdvI--xIj--269" value=":GetDocumentInternalState" style="shape=umlLifeline;perimeter=lifelinePerimeter;whiteSpace=wrap;html=1;container=1;collapsible=0;recursiveResize=0;outlineConnect=0;movable=0;resizable=0;rotatable=0;deletable=0;editable=0;connectable=0;" parent="1" vertex="1">
          <mxGeometry x="500" y="-730" width="180" height="220" as="geometry" />
        </mxCell>
        <mxCell id="UocfNX80_2cdvI--xIj--272" value="" style="html=1;points=[];perimeter=orthogonalPerimeter;opacity=70;movable=0;resizable=0;rotatable=0;deletable=0;editable=0;connectable=0;" parent="UocfNX80_2cdvI--xIj--269" vertex="1">
          <mxGeometry x="85" y="80" width="10" height="80" as="geometry" />
        </mxCell>
        <mxCell id="UocfNX80_2cdvI--xIj--270" value=":DocumentToInternalStateBindingRepository" style="shape=umlLifeline;perimeter=lifelinePerimeter;whiteSpace=wrap;html=1;container=1;collapsible=0;recursiveResize=0;outlineConnect=0;movable=0;resizable=0;rotatable=0;deletable=0;editable=0;connectable=0;fillColor=#f8cecc;strokeColor=#b85450;" parent="1" vertex="1">
          <mxGeometry x="690" y="-730" width="250" height="220" as="geometry" />
        </mxCell>
        <mxCell id="UocfNX80_2cdvI--xIj--273" value="" style="html=1;points=[];perimeter=orthogonalPerimeter;opacity=70;movable=0;resizable=0;rotatable=0;deletable=0;editable=0;connectable=0;" parent="UocfNX80_2cdvI--xIj--270" vertex="1">
          <mxGeometry x="120" y="100" width="10" height="40" as="geometry" />
        </mxCell>
        <mxCell id="UocfNX80_2cdvI--xIj--271" value="dispatch" style="html=1;verticalAlign=bottom;endArrow=block;rounded=0;curved=1;entryX=-0.151;entryY=0.021;entryDx=0;entryDy=0;entryPerimeter=0;movable=0;resizable=0;rotatable=0;deletable=0;editable=0;connectable=0;" parent="1" source="UocfNX80_2cdvI--xIj--268" target="UocfNX80_2cdvI--xIj--272" edge="1">
          <mxGeometry width="80" relative="1" as="geometry">
            <mxPoint x="490" y="-650" as="sourcePoint" />
            <mxPoint x="570" y="-650" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="UocfNX80_2cdvI--xIj--274" value="dispatch" style="html=1;verticalAlign=bottom;endArrow=block;rounded=0;curved=1;entryX=-0.151;entryY=0.021;entryDx=0;entryDy=0;entryPerimeter=0;movable=0;resizable=0;rotatable=0;deletable=0;editable=0;connectable=0;" parent="1" source="UocfNX80_2cdvI--xIj--272" target="UocfNX80_2cdvI--xIj--273" edge="1">
          <mxGeometry width="80" relative="1" as="geometry">
            <mxPoint x="599.9966666666666" y="-628.3200000000002" as="sourcePoint" />
            <mxPoint x="780.33" y="-630" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="UocfNX80_2cdvI--xIj--275" value="Проблема в том что используется таблица, от которой надо уйти!" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;movable=0;rotatable=0;deletable=0;editable=0;connectable=0;" parent="1" vertex="1">
          <mxGeometry x="322" y="-522" width="390" height="30" as="geometry" />
        </mxCell>
        <mxCell id="UocfNX80_2cdvI--xIj--277" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.75;entryDx=0;entryDy=0;" parent="1" source="UocfNX80_2cdvI--xIj--276" target="UocfNX80_2cdvI--xIj--197" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="UocfNX80_2cdvI--xIj--276" value="&lt;b&gt;&amp;lt;&amp;lt; решение &amp;gt;&amp;gt;&lt;/b&gt;&lt;br&gt;это не проблема... т.к. надо заменить транзакцию ... просто текущее состояние надо получать как-то по другому!" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#d79b00;fillColor=#ffe6cc;" parent="1" vertex="1">
          <mxGeometry x="80" y="-490" width="270" height="60" as="geometry" />
        </mxCell>
        <mxCell id="UocfNX80_2cdvI--xIj--279" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;" parent="1" source="UocfNX80_2cdvI--xIj--278" target="UocfNX80_2cdvI--xIj--259" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="UocfNX80_2cdvI--xIj--278" value="А это RequestID ..." style="rounded=1;whiteSpace=wrap;html=1;strokeColor=#6c8ebf;fillColor=#dae8fc;opacity=70;textOpacity=70;" parent="1" vertex="1">
          <mxGeometry x="1219" y="120" width="120" height="26" as="geometry" />
        </mxCell>
        <mxCell id="UocfNX80_2cdvI--xIj--281" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.102;entryY=0.959;entryDx=0;entryDy=0;entryPerimeter=0;exitX=0;exitY=0.5;exitDx=0;exitDy=0;" parent="1" source="UocfNX80_2cdvI--xIj--280" target="UocfNX80_2cdvI--xIj--278" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="UocfNX80_2cdvI--xIj--280" value="&lt;b&gt;&amp;lt;&amp;lt; проблема &amp;gt;&amp;gt;&lt;/b&gt;&lt;br&gt;&lt;br&gt;А это проблема, т.к. вызов из ChangeLongDocumentInternalState передает DocumentID (long)" style="rounded=1;whiteSpace=wrap;html=1;strokeColor=#9673a6;fillColor=#e1d5e7;" parent="1" vertex="1">
          <mxGeometry x="1260" y="190" width="290" height="70" as="geometry" />
        </mxCell>
        <mxCell id="UocfNX80_2cdvI--xIj--282" value="Как ведется History для Внешнего состояния у LongBase ??" style="shape=note;whiteSpace=wrap;html=1;backgroundOutline=1;fontColor=#000000;darkOpacity=0.05;fillColor=#FFF9B2;strokeColor=none;fillStyle=solid;direction=west;gradientDirection=north;gradientColor=#FFF2A1;shadow=1;size=20;pointerEvents=1;opacity=90;" parent="1" vertex="1">
          <mxGeometry x="435" y="255" width="140" height="120" as="geometry" />
        </mxCell>
        <mxCell id="UocfNX80_2cdvI--xIj--283" value="Как ведется OuterState (ExternalState) в GRLS ?" style="shape=note;whiteSpace=wrap;html=1;backgroundOutline=1;fontColor=#000000;darkOpacity=0.05;fillColor=#FFF9B2;strokeColor=none;fillStyle=solid;direction=west;gradientDirection=north;gradientColor=#FFF2A1;shadow=1;size=20;pointerEvents=1;opacity=90;" parent="1" vertex="1">
          <mxGeometry x="920" y="90" width="140" height="120" as="geometry" />
        </mxCell>
        <mxCell id="UocfNX80_2cdvI--xIj--343" value="ApplicantRequestFgbu&lt;br&gt;ApplicantRequestInspection" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;fontSize=12;" parent="1" source="UocfNX80_2cdvI--xIj--284" target="UocfNX80_2cdvI--xIj--342" edge="1">
          <mxGeometry x="-0.5744" y="-15" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="UocfNX80_2cdvI--xIj--284" value="&lt;font style=&quot;font-size: 12px;&quot;&gt;&amp;lt;&amp;lt; transaction &amp;gt;&amp;gt;&lt;/font&gt;&lt;br&gt;&lt;br&gt;ChangeDocumentInternalState" style="rounded=0;whiteSpace=wrap;html=1;fontSize=16;fillColor=#dae8fc;strokeColor=#6c8ebf;" parent="1" vertex="1">
          <mxGeometry x="145" y="-2790" width="280" height="80" as="geometry" />
        </mxCell>
        <mxCell id="UocfNX80_2cdvI--xIj--286" value="&amp;lt;&amp;lt; observer &amp;gt;&amp;gt;&lt;br&gt;&amp;lt;&amp;lt; ChangeDocumentInternalStateObserver &amp;gt;&amp;gt;&lt;br&gt;&lt;br&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;ChangeInternalStateObserver&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" parent="1" vertex="1">
          <mxGeometry x="4" y="-2503" width="280" height="80" as="geometry" />
        </mxCell>
        <mxCell id="UocfNX80_2cdvI--xIj--287" value="&lt;font style=&quot;font-size: 12px;&quot;&gt;&amp;lt;&amp;lt; transaction &amp;gt;&amp;gt;&lt;/font&gt;&lt;br&gt;&lt;br&gt;ChangeLongDocumentInternalState" style="rounded=0;whiteSpace=wrap;html=1;fontSize=16;fillColor=#dae8fc;strokeColor=#6c8ebf;" parent="1" vertex="1">
          <mxGeometry x="705" y="-2790" width="360" height="80" as="geometry" />
        </mxCell>
        <mxCell id="UocfNX80_2cdvI--xIj--288" value="&lt;font style=&quot;font-size: 12px;&quot;&gt;&amp;lt;&amp;lt; observer &amp;gt;&amp;gt;&lt;/font&gt;&lt;br&gt;&lt;br&gt;ChangeLongDocumentInternalStateObserver" style="rounded=0;whiteSpace=wrap;html=1;fontSize=16;fillColor=#dae8fc;strokeColor=#6c8ebf;" parent="1" vertex="1">
          <mxGeometry x="705" y="-2630" width="360" height="80" as="geometry" />
        </mxCell>
        <mxCell id="UocfNX80_2cdvI--xIj--289" value="&lt;font style=&quot;font-size: 12px;&quot;&gt;&amp;lt;&amp;lt; transaction &amp;gt;&amp;gt;&lt;br&gt;&lt;/font&gt;&lt;br&gt;ChangeApplicantRequestInternalState" style="rounded=0;whiteSpace=wrap;html=1;fontSize=16;fillColor=#dae8fc;strokeColor=#6c8ebf;" parent="1" vertex="1">
          <mxGeometry x="-600" y="-2710" width="360" height="80" as="geometry" />
        </mxCell>
        <mxCell id="UocfNX80_2cdvI--xIj--290" value="Extends" style="endArrow=block;endSize=16;endFill=0;html=1;rounded=0;fontSize=16;curved=1;" parent="1" source="UocfNX80_2cdvI--xIj--289" target="UocfNX80_2cdvI--xIj--284" edge="1">
          <mxGeometry width="160" relative="1" as="geometry">
            <mxPoint x="-165" y="-2700" as="sourcePoint" />
            <mxPoint x="-5" y="-2700" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="UocfNX80_2cdvI--xIj--291" value="&lt;font style=&quot;font-size: 12px;&quot;&gt;&amp;lt;&amp;lt; obserever &amp;gt;&amp;gt; &amp;lt;&amp;lt; internalState &amp;gt;&amp;gt; &amp;lt;&amp;lt; baseInt &amp;gt;&amp;gt;&lt;br&gt;&lt;/font&gt;&lt;br&gt;ChangeApplicantRequestInternalStateObserver" style="rounded=0;whiteSpace=wrap;html=1;fontSize=16;fillColor=#dae8fc;strokeColor=#6c8ebf;" parent="1" vertex="1">
          <mxGeometry x="-600" y="-2530" width="360" height="80" as="geometry" />
        </mxCell>
        <mxCell id="UocfNX80_2cdvI--xIj--292" value="" style="endArrow=none;dashed=1;html=1;dashPattern=1 3;strokeWidth=2;rounded=0;fontSize=16;curved=1;" parent="1" source="UocfNX80_2cdvI--xIj--291" target="UocfNX80_2cdvI--xIj--289" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-25" y="-2670" as="sourcePoint" />
            <mxPoint x="25" y="-2720" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="UocfNX80_2cdvI--xIj--293" value="" style="endArrow=none;dashed=1;html=1;dashPattern=1 3;strokeWidth=2;rounded=0;fontSize=16;curved=1;" parent="1" source="UocfNX80_2cdvI--xIj--286" target="UocfNX80_2cdvI--xIj--284" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-185" y="-2500" as="sourcePoint" />
            <mxPoint x="-185" y="-2820" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="UocfNX80_2cdvI--xIj--294" value="" style="endArrow=none;dashed=1;html=1;dashPattern=1 3;strokeWidth=2;rounded=0;fontSize=16;curved=1;" parent="1" source="UocfNX80_2cdvI--xIj--288" target="UocfNX80_2cdvI--xIj--287" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="95" y="-2620" as="sourcePoint" />
            <mxPoint x="95" y="-2700" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="UocfNX80_2cdvI--xIj--295" value="" style="endArrow=open;endFill=1;endSize=12;html=1;rounded=0;fontSize=16;curved=1;entryX=1;entryY=0.5;entryDx=0;entryDy=0;exitX=0;exitY=0;exitDx=0;exitDy=0;" parent="1" source="UocfNX80_2cdvI--xIj--288" target="UocfNX80_2cdvI--xIj--284" edge="1">
          <mxGeometry width="160" relative="1" as="geometry">
            <mxPoint x="195" y="-2700" as="sourcePoint" />
            <mxPoint x="355" y="-2700" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="UocfNX80_2cdvI--xIj--296" value="" style="endArrow=open;endFill=1;endSize=12;html=1;rounded=0;fontSize=16;curved=1;entryX=0;entryY=0.75;entryDx=0;entryDy=0;exitX=1;exitY=0;exitDx=0;exitDy=0;" parent="1" source="UocfNX80_2cdvI--xIj--286" target="UocfNX80_2cdvI--xIj--287" edge="1">
          <mxGeometry width="160" relative="1" as="geometry">
            <mxPoint x="435" y="-2620" as="sourcePoint" />
            <mxPoint x="235" y="-2740" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="UocfNX80_2cdvI--xIj--297" value="&amp;lt;&amp;lt; observer &amp;gt;&amp;gt;&lt;br&gt;&amp;lt;&amp;lt; ChangeDocumentInternalStateObserver &amp;gt;&amp;gt;&lt;br&gt;&lt;br&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;ChangeInternalStateFailObserver&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" parent="1" vertex="1">
          <mxGeometry x="365" y="-2503" width="280" height="80" as="geometry" />
        </mxCell>
        <mxCell id="UocfNX80_2cdvI--xIj--298" value="" style="endArrow=none;dashed=1;html=1;dashPattern=1 3;strokeWidth=2;rounded=0;fontSize=16;curved=1;" parent="1" source="UocfNX80_2cdvI--xIj--297" target="UocfNX80_2cdvI--xIj--284" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="173.65156794425093" y="-2493" as="sourcePoint" />
            <mxPoint x="275.3484320557495" y="-2700" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="UocfNX80_2cdvI--xIj--301" value="" style="endArrow=open;endFill=1;endSize=12;html=1;rounded=0;fontSize=16;curved=1;entryX=0;entryY=0.25;entryDx=0;entryDy=0;" parent="1" source="UocfNX80_2cdvI--xIj--286" target="UocfNX80_2cdvI--xIj--287" edge="1">
          <mxGeometry width="160" relative="1" as="geometry">
            <mxPoint x="294" y="-2493" as="sourcePoint" />
            <mxPoint x="715" y="-2740" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="UocfNX80_2cdvI--xIj--303" value="answer for request" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=16;" parent="UocfNX80_2cdvI--xIj--301" vertex="1" connectable="0">
          <mxGeometry x="0.0591" y="1" relative="1" as="geometry">
            <mxPoint x="-30" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="UocfNX80_2cdvI--xIj--304" value="&lt;font style=&quot;font-size: 12px;&quot;&gt;&amp;lt;&amp;lt; transaction &amp;gt;&amp;gt;&lt;/font&gt;&lt;br&gt;&lt;br&gt;UpdateApplicantRequest" style="rounded=0;whiteSpace=wrap;html=1;fontSize=16;" parent="1" vertex="1">
          <mxGeometry x="40" y="-1990" width="280" height="80" as="geometry" />
        </mxCell>
        <mxCell id="UocfNX80_2cdvI--xIj--305" value="" style="endArrow=open;endFill=1;endSize=12;html=1;rounded=0;fontSize=16;curved=1;fillColor=#f8cecc;strokeColor=#b85450;" parent="1" source="UocfNX80_2cdvI--xIj--286" target="UocfNX80_2cdvI--xIj--304" edge="1">
          <mxGeometry width="160" relative="1" as="geometry">
            <mxPoint x="227.09446254071645" y="-2493" as="sourcePoint" />
            <mxPoint x="715" y="-2760" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="UocfNX80_2cdvI--xIj--307" value="&lt;font style=&quot;font-size: 12px;&quot;&gt;&amp;lt;&amp;lt; transaction &amp;gt;&amp;gt;&lt;br&gt;&lt;/font&gt;&lt;font style=&quot;font-size: 12px;&quot;&gt;&amp;lt;&amp;lt; ChangeDocumentExternalState &amp;gt;&amp;gt;&lt;/font&gt;&lt;br&gt;&lt;br&gt;ChangeDocumentState" style="rounded=0;whiteSpace=wrap;html=1;fontSize=16;fillColor=#dae8fc;strokeColor=#6c8ebf;" parent="1" vertex="1">
          <mxGeometry x="1155" y="-2480" width="360" height="80" as="geometry" />
        </mxCell>
        <mxCell id="UocfNX80_2cdvI--xIj--308" value="" style="endArrow=open;endFill=1;endSize=12;html=1;rounded=0;fontSize=16;curved=1;entryX=0;entryY=0.25;entryDx=0;entryDy=0;" parent="1" source="UocfNX80_2cdvI--xIj--288" target="UocfNX80_2cdvI--xIj--307" edge="1">
          <mxGeometry width="160" relative="1" as="geometry">
            <mxPoint x="1057.0944625407164" y="-2493" as="sourcePoint" />
            <mxPoint x="1545" y="-2760" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="UocfNX80_2cdvI--xIj--310" value="&lt;font style=&quot;font-size: 12px;&quot;&gt;&amp;lt;&amp;lt; transaction &amp;gt;&amp;gt;&lt;br&gt;&lt;/font&gt;&lt;br&gt;ChangeLongDocumentExternalState" style="rounded=0;whiteSpace=wrap;html=1;fontSize=16;fillColor=#dae8fc;strokeColor=#6c8ebf;" parent="1" vertex="1">
          <mxGeometry x="1480" y="-2890" width="360" height="80" as="geometry" />
        </mxCell>
        <mxCell id="UocfNX80_2cdvI--xIj--311" value="" style="endArrow=open;endFill=1;endSize=12;html=1;rounded=0;fontSize=16;curved=1;entryX=0;entryY=0.75;entryDx=0;entryDy=0;" parent="1" source="UocfNX80_2cdvI--xIj--288" target="UocfNX80_2cdvI--xIj--310" edge="1">
          <mxGeometry width="160" relative="1" as="geometry">
            <mxPoint x="978.0769230769233" y="-2540" as="sourcePoint" />
            <mxPoint x="1165" y="-2450" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="UocfNX80_2cdvI--xIj--312" value="&lt;font style=&quot;font-size: 12px;&quot;&gt;&amp;lt;&amp;lt; observer &amp;gt;&amp;gt;&lt;br&gt;&lt;/font&gt;&lt;br&gt;ChangeLongDocumentExternalStateObserver" style="rounded=0;whiteSpace=wrap;html=1;fontSize=16;fillColor=#dae8fc;strokeColor=#6c8ebf;" parent="1" vertex="1">
          <mxGeometry x="1650" y="-2750" width="360" height="80" as="geometry" />
        </mxCell>
        <mxCell id="UocfNX80_2cdvI--xIj--313" value="&lt;font style=&quot;font-size: 12px;&quot;&gt;&amp;lt;&amp;lt; observer &amp;gt;&amp;gt;&lt;br&gt;&lt;/font&gt;&lt;font style=&quot;font-size: 12px;&quot;&gt;&amp;lt;&amp;lt; ChangeDocumentExternalState &amp;gt;&amp;gt;&lt;/font&gt;&lt;br&gt;&lt;br&gt;ChangeDocumentStateObserver" style="rounded=0;whiteSpace=wrap;html=1;fontSize=16;" parent="1" vertex="1">
          <mxGeometry x="1225" y="-2310" width="360" height="80" as="geometry" />
        </mxCell>
        <mxCell id="UocfNX80_2cdvI--xIj--316" value="" style="endArrow=none;dashed=1;html=1;dashPattern=1 3;strokeWidth=2;rounded=0;fontSize=16;curved=1;" parent="1" source="UocfNX80_2cdvI--xIj--312" target="UocfNX80_2cdvI--xIj--310" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="432.7003484320562" y="-2493" as="sourcePoint" />
            <mxPoint x="317.29965156794424" y="-2700" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="UocfNX80_2cdvI--xIj--317" value="" style="endArrow=none;dashed=1;html=1;dashPattern=1 3;strokeWidth=2;rounded=0;fontSize=16;curved=1;" parent="1" source="UocfNX80_2cdvI--xIj--313" target="UocfNX80_2cdvI--xIj--307" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="940.8823529411766" y="-2210" as="sourcePoint" />
            <mxPoint x="909.117647058823" y="-2300" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="UocfNX80_2cdvI--xIj--318" value="" style="shape=umlDestroy;whiteSpace=wrap;html=1;strokeWidth=3;strokeColor=#b85450;fontSize=12;fillColor=#f8cecc;" parent="1" vertex="1">
          <mxGeometry x="1302.5" y="-2334" width="205" height="128" as="geometry" />
        </mxCell>
        <mxCell id="UocfNX80_2cdvI--xIj--319" value="&lt;font style=&quot;font-size: 12px;&quot;&gt;&amp;lt;&amp;lt; transaction &amp;gt;&amp;gt;&lt;br&gt;&lt;/font&gt;&lt;br&gt;CreateApplicantRequestBase" style="rounded=0;whiteSpace=wrap;html=1;fontSize=16;fillColor=#dae8fc;strokeColor=#6c8ebf;" parent="1" vertex="1">
          <mxGeometry x="-910" y="-3010" width="360" height="80" as="geometry" />
        </mxCell>
        <mxCell id="UocfNX80_2cdvI--xIj--320" value="&lt;font style=&quot;font-size: 12px;&quot;&gt;&amp;lt;&amp;lt; Observer&amp;gt;&amp;gt;&lt;br&gt;&lt;/font&gt;&lt;br&gt;CreateApplicantRequestObserver" style="rounded=0;whiteSpace=wrap;html=1;fontSize=16;fillColor=#dae8fc;strokeColor=#6c8ebf;" parent="1" vertex="1">
          <mxGeometry x="-1300" y="-2338" width="360" height="80" as="geometry" />
        </mxCell>
        <mxCell id="UocfNX80_2cdvI--xIj--321" value="&lt;font style=&quot;font-size: 12px;&quot;&gt;&amp;lt;&amp;lt; transaction &amp;gt;&amp;gt; &amp;lt;&amp;lt; externalState &amp;gt;&amp;gt; &amp;lt;&amp;lt; baseInt &amp;gt;&amp;gt;&lt;br&gt;&lt;/font&gt;&lt;font style=&quot;font-size: 12px;&quot;&gt;&amp;lt;&amp;lt; ChangeDocumentExternalState &amp;gt;&amp;gt;&lt;/font&gt;&lt;br&gt;&lt;br&gt;ChangeDocumentState" style="rounded=0;whiteSpace=wrap;html=1;fontSize=16;fillColor=#dae8fc;strokeColor=#6c8ebf;" parent="1" vertex="1">
          <mxGeometry x="-1160" y="-2030" width="360" height="80" as="geometry" />
        </mxCell>
        <mxCell id="UocfNX80_2cdvI--xIj--323" value="Для потока Клинические исследования и запрос ФГБУ&lt;br&gt;IncomingPackage" style="endArrow=open;endFill=1;endSize=12;html=1;rounded=0;fontSize=16;curved=1;" parent="1" source="UocfNX80_2cdvI--xIj--320" target="UocfNX80_2cdvI--xIj--307" edge="1">
          <mxGeometry x="-0.7985" y="19" width="160" relative="1" as="geometry">
            <mxPoint x="133.481865284974" y="-2413" as="sourcePoint" />
            <mxPoint x="75.51813471502601" y="-2300" as="targetPoint" />
            <mxPoint x="-1" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="UocfNX80_2cdvI--xIj--325" value="" style="endArrow=none;dashed=1;html=1;dashPattern=1 3;strokeWidth=2;rounded=0;fontSize=16;curved=1;" parent="1" source="UocfNX80_2cdvI--xIj--320" target="UocfNX80_2cdvI--xIj--319" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-760" y="-2077.8947368421054" as="sourcePoint" />
            <mxPoint x="-305" y="-2820" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="UocfNX80_2cdvI--xIj--328" value="" style="endArrow=open;endFill=1;endSize=12;html=1;rounded=0;fontSize=12;curved=1;exitX=0.75;exitY=1;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="UocfNX80_2cdvI--xIj--319" target="UocfNX80_2cdvI--xIj--284" edge="1">
          <mxGeometry width="160" relative="1" as="geometry">
            <mxPoint x="-430" y="-2770" as="sourcePoint" />
            <mxPoint x="-270" y="-2770" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="UocfNX80_2cdvI--xIj--330" value="Меняет состояние у заявления" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=12;" parent="UocfNX80_2cdvI--xIj--328" vertex="1" connectable="0">
          <mxGeometry x="-0.115" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="UocfNX80_2cdvI--xIj--329" value="у созданного запроса" style="endArrow=open;endFill=1;endSize=12;html=1;rounded=0;fontSize=12;curved=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0.018;entryY=0;entryDx=0;entryDy=0;entryPerimeter=0;fillColor=#f8cecc;strokeColor=#b85450;" parent="1" source="UocfNX80_2cdvI--xIj--319" target="UocfNX80_2cdvI--xIj--284" edge="1">
          <mxGeometry width="160" relative="1" as="geometry">
            <mxPoint x="-540" y="-2920.985221674877" as="sourcePoint" />
            <mxPoint x="155" y="-2770.344827586207" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="UocfNX80_2cdvI--xIj--332" value="&lt;font style=&quot;font-size: 12px;&quot;&gt;&amp;lt;&amp;lt; factory &amp;gt;&amp;gt;&lt;br&gt;&lt;/font&gt;&lt;br&gt;ChangeGrlsApplicantRequestInternalStateFactory" style="rounded=0;whiteSpace=wrap;html=1;fontSize=16;fillColor=#d5e8d4;strokeColor=#82b366;" parent="1" vertex="1">
          <mxGeometry x="-360" y="-3200" width="380" height="80" as="geometry" />
        </mxCell>
        <mxCell id="UocfNX80_2cdvI--xIj--334" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.25;entryY=0;entryDx=0;entryDy=0;fontSize=12;" parent="1" source="UocfNX80_2cdvI--xIj--333" target="UocfNX80_2cdvI--xIj--319" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="UocfNX80_2cdvI--xIj--333" value="Где еще вызывается?" style="rounded=1;whiteSpace=wrap;html=1;strokeColor=#B3B3B3;fontSize=12;fillColor=#FFCCFF;" parent="1" vertex="1">
          <mxGeometry x="-1040" y="-3140" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="UocfNX80_2cdvI--xIj--335" value="у созданного запроса" style="endArrow=open;endFill=1;endSize=12;html=1;rounded=0;fontSize=12;curved=1;exitX=1;exitY=0.25;exitDx=0;exitDy=0;entryX=0;entryY=0.75;entryDx=0;entryDy=0;fillColor=#dae8fc;strokeColor=#6c8ebf;" parent="1" source="UocfNX80_2cdvI--xIj--319" target="UocfNX80_2cdvI--xIj--332" edge="1">
          <mxGeometry width="160" relative="1" as="geometry">
            <mxPoint x="-540.0000000000005" y="-2960" as="sourcePoint" />
            <mxPoint x="160.03999999999996" y="-2780" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="UocfNX80_2cdvI--xIj--337" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=12;" parent="1" source="UocfNX80_2cdvI--xIj--336" target="UocfNX80_2cdvI--xIj--333" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="UocfNX80_2cdvI--xIj--336" value="Если вызывается где-то еще кроме ГРЛС (вряд ли) то придется переделывать Factory" style="rounded=1;whiteSpace=wrap;html=1;strokeColor=#B3B3B3;fontSize=12;fillColor=#FFCCFF;" parent="1" vertex="1">
          <mxGeometry x="-1370" y="-3090" width="190" height="60" as="geometry" />
        </mxCell>
        <mxCell id="UocfNX80_2cdvI--xIj--338" value="&lt;font style=&quot;font-size: 12px;&quot;&gt;&amp;lt;&amp;lt; transaction &amp;gt;&amp;gt;&lt;br&gt;&lt;/font&gt;&lt;br&gt;ChangeGrlsFgbuApplicantRequestInternalState" style="rounded=0;whiteSpace=wrap;html=1;fontSize=16;fillColor=#d5e8d4;strokeColor=#82b366;" parent="1" vertex="1">
          <mxGeometry x="60" y="-3080" width="380" height="80" as="geometry" />
        </mxCell>
        <mxCell id="UocfNX80_2cdvI--xIj--339" value="&lt;font style=&quot;font-size: 12px;&quot;&gt;&amp;lt;&amp;lt; transaction &amp;gt;&amp;gt;&lt;br&gt;&lt;/font&gt;&lt;br&gt;ChangeGrlsApplicantRequestInternalState" style="rounded=0;whiteSpace=wrap;html=1;fontSize=16;fillColor=#d5e8d4;strokeColor=#82b366;" parent="1" vertex="1">
          <mxGeometry x="640" y="-3070" width="380" height="80" as="geometry" />
        </mxCell>
        <mxCell id="UocfNX80_2cdvI--xIj--340" value="Create" style="endArrow=open;endSize=12;dashed=1;html=1;rounded=0;fontSize=12;curved=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" parent="1" source="UocfNX80_2cdvI--xIj--332" target="UocfNX80_2cdvI--xIj--338" edge="1">
          <mxGeometry width="160" relative="1" as="geometry">
            <mxPoint x="-10" y="-3130" as="sourcePoint" />
            <mxPoint x="150" y="-3130" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="UocfNX80_2cdvI--xIj--341" value="Create" style="endArrow=open;endSize=12;dashed=1;html=1;rounded=0;fontSize=12;curved=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" parent="1" source="UocfNX80_2cdvI--xIj--332" target="UocfNX80_2cdvI--xIj--339" edge="1">
          <mxGeometry width="160" relative="1" as="geometry">
            <mxPoint x="30.000000000000455" y="-3150" as="sourcePoint" />
            <mxPoint x="236.66666666666652" y="-3070" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="UocfNX80_2cdvI--xIj--342" value="InvalidOperationException" style="ellipse;html=1;shape=endState;fillColor=#000000;strokeColor=#ff0000;fontSize=12;verticalAlign=top;labelPosition=center;verticalLabelPosition=bottom;align=center;" parent="1" vertex="1">
          <mxGeometry x="435" y="-2880" width="30" height="30" as="geometry" />
        </mxCell>
        <mxCell id="UocfNX80_2cdvI--xIj--345" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=12;" parent="1" source="UocfNX80_2cdvI--xIj--344" target="UocfNX80_2cdvI--xIj--289" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="UocfNX80_2cdvI--xIj--344" value="Где еще вызывается?" style="rounded=1;whiteSpace=wrap;html=1;strokeColor=#B3B3B3;fontSize=12;fillColor=#FFCCFF;" parent="1" vertex="1">
          <mxGeometry x="-1070" y="-2700" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="UocfNX80_2cdvI--xIj--346" value="" style="endArrow=open;endFill=1;endSize=12;html=1;rounded=0;fontSize=16;curved=1;fillColor=#f8cecc;strokeColor=#b85450;" parent="1" source="UocfNX80_2cdvI--xIj--297" target="UocfNX80_2cdvI--xIj--304" edge="1">
          <mxGeometry width="160" relative="1" as="geometry">
            <mxPoint x="133.48186528497445" y="-2413" as="sourcePoint" />
            <mxPoint x="75.51813471502601" y="-2300" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="UocfNX80_2cdvI--xIj--347" value="InvalidOperationException" style="ellipse;html=1;shape=endState;fillColor=#000000;strokeColor=#ff0000;fontSize=12;verticalAlign=top;labelPosition=center;verticalLabelPosition=bottom;align=center;" parent="1" vertex="1">
          <mxGeometry x="330" y="-2050" width="30" height="30" as="geometry" />
        </mxCell>
        <mxCell id="UocfNX80_2cdvI--xIj--348" value="ApplicantRequestFgbu&lt;br&gt;ApplicantRequestInspection&lt;br&gt;ApplicantRequestMinistryOfHealth" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;fontSize=12;" parent="1" source="UocfNX80_2cdvI--xIj--297" target="UocfNX80_2cdvI--xIj--347" edge="1">
          <mxGeometry x="0.0244" y="25" relative="1" as="geometry">
            <mxPoint x="295" y="-2780" as="sourcePoint" />
            <mxPoint x="530" y="-2897" as="targetPoint" />
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="UocfNX80_2cdvI--xIj--351" value="&lt;font style=&quot;font-size: 12px;&quot;&gt;&amp;lt;&amp;lt; observer &amp;gt;&amp;gt;&lt;br&gt;&lt;/font&gt;&lt;br&gt;ChangeGrlsFgbuApplicantRequestInternalStateObserver" style="rounded=0;whiteSpace=wrap;html=1;fontSize=16;fillColor=#d5e8d4;strokeColor=#82b366;" parent="1" vertex="1">
          <mxGeometry x="-570" y="-2300" width="420" height="80" as="geometry" />
        </mxCell>
        <mxCell id="UocfNX80_2cdvI--xIj--352" value="&lt;font style=&quot;font-size: 12px;&quot;&gt;&amp;lt;&amp;lt; observer &amp;gt;&amp;gt;&lt;br&gt;&lt;/font&gt;&lt;br&gt;ChangeGrlsApplicantRequestInternalStateObserver" style="rounded=0;whiteSpace=wrap;html=1;fontSize=16;fillColor=#d5e8d4;strokeColor=#82b366;" parent="1" vertex="1">
          <mxGeometry x="-465" y="-2100" width="420" height="80" as="geometry" />
        </mxCell>
        <mxCell id="UocfNX80_2cdvI--xIj--357" value="InvalidOperationException" style="ellipse;html=1;shape=endState;fillColor=#000000;strokeColor=#ff0000;fontSize=12;verticalAlign=top;labelPosition=center;verticalLabelPosition=bottom;align=center;" parent="1" vertex="1">
          <mxGeometry x="60" y="-2630" width="30" height="30" as="geometry" />
        </mxCell>
        <mxCell id="UocfNX80_2cdvI--xIj--358" value="ApplicantRequestFgbu&lt;br&gt;ApplicantRequestInspection&lt;br&gt;ApplicantRequestMinistryOfHealth" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.25;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;fontSize=12;" parent="1" source="UocfNX80_2cdvI--xIj--286" target="UocfNX80_2cdvI--xIj--357" edge="1">
          <mxGeometry x="-0.2984" relative="1" as="geometry">
            <mxPoint x="167.5" y="-2418.5" as="sourcePoint" />
            <mxPoint x="252.5" y="-2892.5" as="targetPoint" />
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="UocfNX80_2cdvI--xIj--360" value="" style="endArrow=open;endFill=1;endSize=12;html=1;rounded=0;fontSize=16;curved=1;" parent="1" source="UocfNX80_2cdvI--xIj--352" target="UocfNX80_2cdvI--xIj--304" edge="1">
          <mxGeometry width="160" relative="1" as="geometry">
            <mxPoint x="294" y="-2493" as="sourcePoint" />
            <mxPoint x="715" y="-2720" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="UocfNX80_2cdvI--xIj--363" value="" style="endArrow=open;endFill=1;endSize=12;html=1;rounded=0;fontSize=16;curved=1;" parent="1" source="UocfNX80_2cdvI--xIj--338" target="UocfNX80_2cdvI--xIj--287" edge="1">
          <mxGeometry width="160" relative="1" as="geometry">
            <mxPoint x="715" y="-2620" as="sourcePoint" />
            <mxPoint x="435" y="-2740" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="UocfNX80_2cdvI--xIj--364" value="" style="endArrow=open;endFill=1;endSize=12;html=1;rounded=0;fontSize=16;curved=1;" parent="1" source="UocfNX80_2cdvI--xIj--339" target="UocfNX80_2cdvI--xIj--287" edge="1">
          <mxGeometry width="160" relative="1" as="geometry">
            <mxPoint x="347.58620689655163" y="-2990" as="sourcePoint" />
            <mxPoint x="807.4137931034484" y="-2780" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="UocfNX80_2cdvI--xIj--366" value="" style="shape=umlDestroy;whiteSpace=wrap;html=1;strokeWidth=3;strokeColor=#b85450;fontSize=12;fillColor=#f8cecc;" parent="1" vertex="1">
          <mxGeometry x="-610" y="-2540" width="30" height="30" as="geometry" />
        </mxCell>
        <mxCell id="UocfNX80_2cdvI--xIj--367" value="" style="shape=umlDestroy;whiteSpace=wrap;html=1;strokeWidth=3;strokeColor=#b85450;fontSize=12;fillColor=#f8cecc;" parent="1" vertex="1">
          <mxGeometry x="-610" y="-2720" width="30" height="30" as="geometry" />
        </mxCell>
        <mxCell id="UocfNX80_2cdvI--xIj--368" value="Extends" style="endArrow=block;endSize=16;endFill=0;html=1;rounded=0;fontSize=16;curved=1;" parent="1" source="UocfNX80_2cdvI--xIj--351" target="UocfNX80_2cdvI--xIj--352" edge="1">
          <mxGeometry width="160" relative="1" as="geometry">
            <mxPoint x="-230" y="-2680.4255319148933" as="sourcePoint" />
            <mxPoint x="155" y="-2724.1134751773047" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="UocfNX80_2cdvI--xIj--369" value="Extends" style="endArrow=block;endSize=16;endFill=0;html=1;rounded=0;fontSize=16;curved=1;" parent="1" source="UocfNX80_2cdvI--xIj--338" target="UocfNX80_2cdvI--xIj--339" edge="1">
          <mxGeometry width="160" relative="1" as="geometry">
            <mxPoint x="-329" y="-2210" as="sourcePoint" />
            <mxPoint x="-266" y="-2090" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="UocfNX80_2cdvI--xIj--373" value="GetDocumentInternalState" style="html=1;fontSize=16;fillColor=#f8cecc;strokeColor=#b85450;" parent="1" vertex="1">
          <mxGeometry x="1275.25" y="-3180" width="294.75" height="90" as="geometry" />
        </mxCell>
        <mxCell id="UocfNX80_2cdvI--xIj--374" value="" style="endArrow=open;endFill=1;endSize=12;html=1;rounded=0;fontSize=16;curved=1;" parent="1" source="UocfNX80_2cdvI--xIj--287" target="UocfNX80_2cdvI--xIj--373" edge="1">
          <mxGeometry width="160" relative="1" as="geometry">
            <mxPoint x="847.8571428571427" y="-2980" as="sourcePoint" />
            <mxPoint x="887.1428571428569" y="-2780" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="UocfNX80_2cdvI--xIj--375" value="UnitOfWork, &lt;br&gt;rejectionMaterial.ApplicantRequest.Id, &lt;br&gt;rejectionMaterial.ApplicantRequest.DocumentType.Id" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=16;" parent="UocfNX80_2cdvI--xIj--374" vertex="1" connectable="0">
          <mxGeometry x="0.4088" y="1" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="UocfNX80_2cdvI--xIj--376" value="" style="endArrow=open;endFill=1;endSize=12;html=1;rounded=0;fontSize=16;curved=1;entryX=1;entryY=0.25;entryDx=0;entryDy=0;" parent="1" source="UocfNX80_2cdvI--xIj--287" target="UocfNX80_2cdvI--xIj--286" edge="1">
          <mxGeometry width="160" relative="1" as="geometry">
            <mxPoint x="294" y="-2493" as="sourcePoint" />
            <mxPoint x="715" y="-2720" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="UocfNX80_2cdvI--xIj--378" value="НЕ ЗАБЫВАЙ&lt;br&gt;&lt;br&gt;Необходимо найти как ведется история переходов внешних состояний для&amp;nbsp; документов BaseLong&amp;nbsp;" style="shape=note;whiteSpace=wrap;html=1;backgroundOutline=1;fontColor=#000000;darkOpacity=0.05;fillColor=#FFF9B2;strokeColor=none;fillStyle=solid;direction=west;gradientDirection=north;gradientColor=#FFF2A1;shadow=1;size=20;pointerEvents=1;fontSize=16;" parent="1" vertex="1">
          <mxGeometry x="640" y="-1890" width="210" height="200" as="geometry" />
        </mxCell>
        <mxCell id="UocfNX80_2cdvI--xIj--379" value="ТЕПЕРЬ&lt;br&gt;&lt;br&gt;Необходимо найти где используется&amp;nbsp;GetDocumentInternalState для всех запросов и заменить на получение текущего состояния из нужной таблицы" style="shape=note;whiteSpace=wrap;html=1;backgroundOutline=1;fontColor=#000000;darkOpacity=0.05;fillColor=#FFF9B2;strokeColor=none;fillStyle=solid;direction=west;gradientDirection=north;gradientColor=#FFF2A1;shadow=1;size=20;pointerEvents=1;fontSize=16;" parent="1" vertex="1">
          <mxGeometry x="160" y="-1880" width="310" height="200" as="geometry" />
        </mxCell>
        <mxCell id="Qs5j7JCSP7ARArpuH591-2" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;curved=1;exitX=1;exitY=0.75;exitDx=0;exitDy=0;" edge="1" parent="1" source="Qs5j7JCSP7ARArpuH591-1" target="UocfNX80_2cdvI--xIj--373">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Qs5j7JCSP7ARArpuH591-1" value="Где еще вызывается?&lt;br&gt;&lt;br&gt;Для request?" style="rounded=1;whiteSpace=wrap;html=1;strokeColor=#B3B3B3;fontSize=12;fillColor=#FFCCFF;" vertex="1" parent="1">
          <mxGeometry x="1210" y="-3410" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Qs5j7JCSP7ARArpuH591-4" value="&lt;font style=&quot;font-size: 16px;&quot;&gt;ПОСМОТРЕТЬ&lt;br&gt;&lt;br&gt;Как используется таблица core.DocumentInternalState&lt;br&gt;какая сущность отражает эту связь?&amp;nbsp;&lt;br&gt;&lt;br&gt;в Старой таблице&amp;nbsp; DocumentToInternalStateBindingRepository есть binding&lt;br&gt;&lt;br&gt;Интересует есть ли binding для этой таблицы&lt;br&gt;&lt;/font&gt;" style="shape=note;whiteSpace=wrap;html=1;backgroundOutline=1;fontColor=#000000;darkOpacity=0.05;fillColor=#FFF9B2;strokeColor=none;fillStyle=solid;direction=west;gradientDirection=north;gradientColor=#FFF2A1;shadow=1;size=20;pointerEvents=1;" vertex="1" parent="1">
          <mxGeometry x="810" y="-2180" width="370" height="230" as="geometry" />
        </mxCell>
        <mxCell id="Qs5j7JCSP7ARArpuH591-5" value="ПРОБЛЕМА&lt;br&gt;&lt;br&gt;Возможна следующая проблема" style="shape=note;whiteSpace=wrap;html=1;backgroundOutline=1;fontColor=#000000;darkOpacity=0.05;fillColor=#FFF9B2;strokeColor=none;fillStyle=solid;direction=west;gradientDirection=north;gradientColor=#FFF2A1;shadow=1;size=20;pointerEvents=1;fontSize=16;" vertex="1" parent="1">
          <mxGeometry x="2490" y="-3502" width="140" height="160" as="geometry" />
        </mxCell>
        <mxCell id="Qs5j7JCSP7ARArpuH591-6" value="" style="shape=umlLifeline;participant=umlActor;perimeter=lifelinePerimeter;whiteSpace=wrap;html=1;container=1;collapsible=0;recursiveResize=0;verticalAlign=top;spacingTop=36;outlineConnect=0;fontSize=16;" vertex="1" parent="1">
          <mxGeometry x="2790" y="-3480" width="20" height="300" as="geometry" />
        </mxCell>
        <mxCell id="Qs5j7JCSP7ARArpuH591-7" value=":UpdateRequest" style="shape=umlLifeline;perimeter=lifelinePerimeter;whiteSpace=wrap;html=1;container=1;collapsible=0;recursiveResize=0;outlineConnect=0;fontSize=16;" vertex="1" parent="1">
          <mxGeometry x="2880" y="-3480" width="130" height="300" as="geometry" />
        </mxCell>
        <mxCell id="Qs5j7JCSP7ARArpuH591-11" value="" style="html=1;points=[];perimeter=orthogonalPerimeter;fontSize=16;" vertex="1" parent="Qs5j7JCSP7ARArpuH591-7">
          <mxGeometry x="60" y="80" width="10" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Qs5j7JCSP7ARArpuH591-8" value=":ChangeDocumentInternalState" style="shape=umlLifeline;perimeter=lifelinePerimeter;whiteSpace=wrap;html=1;container=1;collapsible=0;recursiveResize=0;outlineConnect=0;fontSize=16;" vertex="1" parent="1">
          <mxGeometry x="3030" y="-3480" width="230" height="300" as="geometry" />
        </mxCell>
        <mxCell id="Qs5j7JCSP7ARArpuH591-14" value="" style="html=1;points=[];perimeter=orthogonalPerimeter;fontSize=16;" vertex="1" parent="Qs5j7JCSP7ARArpuH591-8">
          <mxGeometry x="110" y="200" width="10" height="50" as="geometry" />
        </mxCell>
        <mxCell id="Qs5j7JCSP7ARArpuH591-9" value="Запрос был случайно archived&amp;nbsp;&lt;br&gt;и его необходимо восстановить" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontSize=16;" vertex="1" parent="1">
          <mxGeometry x="2530" y="-3330" width="260" height="50" as="geometry" />
        </mxCell>
        <mxCell id="Qs5j7JCSP7ARArpuH591-10" value="dispatch" style="html=1;verticalAlign=bottom;endArrow=block;rounded=0;fontSize=16;curved=1;entryX=-0.094;entryY=0.007;entryDx=0;entryDy=0;entryPerimeter=0;" edge="1" parent="1" source="Qs5j7JCSP7ARArpuH591-6" target="Qs5j7JCSP7ARArpuH591-11">
          <mxGeometry width="80" relative="1" as="geometry">
            <mxPoint x="2960" y="-3390" as="sourcePoint" />
            <mxPoint x="3040" y="-3390" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Qs5j7JCSP7ARArpuH591-13" value="dispatch" style="html=1;verticalAlign=bottom;endArrow=block;rounded=0;fontSize=16;curved=1;entryX=-0.24;entryY=-0.006;entryDx=0;entryDy=0;entryPerimeter=0;" edge="1" parent="1" source="Qs5j7JCSP7ARArpuH591-6" target="Qs5j7JCSP7ARArpuH591-14">
          <mxGeometry x="-0.5839" width="80" relative="1" as="geometry">
            <mxPoint x="2809.7" y="-3389.44" as="sourcePoint" />
            <mxPoint x="2949.0599999999995" y="-3389.44" as="targetPoint" />
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
